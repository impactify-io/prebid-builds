{"version":3,"file":"debugging-standalone.js","mappings":"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","sources":["webpack://prebid.js/./modules/debugging/bidInterceptor.js","webpack://prebid.js/./modules/debugging/debugging.js","webpack://prebid.js/./modules/debugging/legacy.js","webpack://prebid.js/./modules/debugging/pbsInterceptor.js","webpack://prebid.js/./src/config.js","webpack://prebid.js/./src/constants.js","webpack://prebid.js/./src/cpmBucketManager.js","webpack://prebid.js/./src/polyfill.js","webpack://prebid.js/./src/prebidGlobal.js","webpack://prebid.js/./src/utils.js","webpack://prebid.js/./src/utils/promise.js","webpack://prebid.js/./node_modules/dlv/index.js","webpack://prebid.js/./node_modules/dset/dist/index.mjs","webpack://prebid.js/./node_modules/klona/json/index.mjs","webpack://prebid.js/webpack/bootstrap","webpack://prebid.js/webpack/runtime/define property getters","webpack://prebid.js/webpack/runtime/hasOwnProperty shorthand","webpack://prebid.js/webpack/runtime/make namespace object","webpack://prebid.js/./modules/debugging/standalone.js"],"sourcesContent":["import {\n  deepAccess,\n  deepClone,\n  delayExecution,\n  mergeDeep,\n  hasNonSerializableProperty\n} from '../../src/utils.js';\n\n/**\n * @typedef {Number|String|boolean|null|undefined} Scalar\n */\n\nexport function BidInterceptor(opts = {}) {\n  ({setTimeout: this.setTimeout = window.setTimeout.bind(window)} = opts);\n  this.logger = opts.logger;\n  this.rules = [];\n}\n\nObject.assign(BidInterceptor.prototype, {\n  DEFAULT_RULE_OPTIONS: {\n    delay: 0\n  },\n  serializeConfig(ruleDefs) {\n    const isSerializable = (ruleDef, i) => {\n      const serializable = !hasNonSerializableProperty(ruleDef);\n      if (!serializable && !deepAccess(ruleDef, 'options.suppressWarnings')) {\n        this.logger.logWarn(`Bid interceptor rule definition #${i + 1} contains non-serializable properties and will be lost after a refresh. Rule definition: `, ruleDef);\n      }\n      return serializable;\n    }\n    return ruleDefs.filter(isSerializable);\n  },\n  updateConfig(config) {\n    this.rules = (config.intercept || []).map((ruleDef, i) => this.rule(ruleDef, i + 1))\n  },\n  /**\n   * @typedef {Object} RuleOptions\n   * @property {Number} [delay=0] delay between bid interception and mocking of response (to simulate network delay)\n   * @property {boolean} [suppressWarnings=false] if enabled, do not warn about unserializable rules\n   *\n   * @typedef {Object} Rule\n   * @property {Number} no rule number (used only as an identifier for logging)\n   * @property {function({}, {}): boolean} match a predicate function that tests a bid against this rule\n   * @property {ReplacerFn} replacer generator function for mock bid responses\n   * @property {RuleOptions} options\n   */\n\n  /**\n   * @param {{}} ruleDef\n   * @param {Number} ruleNo\n   * @returns {Rule}\n   */\n  rule(ruleDef, ruleNo) {\n    return {\n      no: ruleNo,\n      match: this.matcher(ruleDef.when, ruleNo),\n      replace: this.replacer(ruleDef.then, ruleNo),\n      options: Object.assign({}, this.DEFAULT_RULE_OPTIONS, ruleDef.options),\n      paapi: this.paapiReplacer(ruleDef.paapi || [], ruleNo)\n    }\n  },\n  /**\n   * @typedef {Function} MatchPredicate\n   * @param {*} candidate a bid to match, or a portion of it if used inside an ObjectMather.\n   * e.g. matcher((bid, bidRequest) => ....) or matcher({property: (property, bidRequest) => ...})\n   * @param {BidRequest} bidRequest the request `candidate` belongs to\n   * @returns {boolean}\n   *\n   * @typedef {{[key]: Scalar|RegExp|MatchPredicate|ObjectMatcher}} ObjectMatcher\n   */\n\n  /**\n   * @param {MatchPredicate|ObjectMatcher} matchDef matcher definition\n   * @param {Number} ruleNo\n   * @returns {MatchPredicate} a predicate function that matches a bid against the given `matchDef`\n   */\n  matcher(matchDef, ruleNo) {\n    if (typeof matchDef === 'function') {\n      return matchDef;\n    }\n    if (typeof matchDef !== 'object') {\n      this.logger.logError(`Invalid 'when' definition for debug bid interceptor (in rule #${ruleNo})`);\n      return () => false;\n    }\n    function matches(candidate, {ref = matchDef, args = []}) {\n      return Object.entries(ref).map(([key, val]) => {\n        const cVal = candidate[key];\n        if (val instanceof RegExp) {\n          return val.exec(cVal) != null;\n        }\n        if (typeof val === 'function') {\n          return !!val(cVal, ...args);\n        }\n        if (typeof val === 'object') {\n          return matches(cVal, {ref: val, args});\n        }\n        return cVal === val;\n      }).every((i) => i);\n    }\n    return (candidate, ...args) => matches(candidate, {args});\n  },\n  /**\n   * @typedef {Function} ReplacerFn\n   * @param {*} bid a bid that was intercepted\n   * @param {BidRequest} bidRequest the request `bid` belongs to\n   * @returns {*} the response to mock for `bid`, or a portion of it if used inside an ObjectReplacer.\n   * e.g. replacer((bid, bidRequest) => mockResponse) or replacer({property: (bid, bidRequest) => mockProperty})\n   *\n   * @typedef {{[key]: ReplacerFn|ObjectReplacer|*}} ObjectReplacer\n   */\n\n  /**\n   * @param {ReplacerFn|ObjectReplacer} replDef replacer definition\n   * @param ruleNo\n   * @return {ReplacerFn}\n   */\n  replacer(replDef, ruleNo) {\n    if (replDef === null) {\n      return () => null\n    }\n    replDef = replDef || {};\n    let replFn;\n    if (typeof replDef === 'function') {\n      replFn = ({args}) => replDef(...args);\n    } else if (typeof replDef !== 'object') {\n      this.logger.logError(`Invalid 'then' definition for debug bid interceptor (in rule #${ruleNo})`);\n      replFn = () => ({});\n    } else {\n      replFn = ({args, ref = replDef}) => {\n        const result = Array.isArray(ref) ? [] : {};\n        Object.entries(ref).forEach(([key, val]) => {\n          if (typeof val === 'function') {\n            result[key] = val(...args);\n          } else if (val != null && typeof val === 'object') {\n            result[key] = replFn({args, ref: val})\n          } else {\n            result[key] = val;\n          }\n        });\n        return result;\n      }\n    }\n    return (bid, ...args) => {\n      const response = this.responseDefaults(bid);\n      mergeDeep(response, replFn({args: [bid, ...args]}));\n      if (!response.hasOwnProperty('ad') && !response.hasOwnProperty('adUrl')) {\n        response.ad = this.defaultAd(bid, response);\n      }\n      response.isDebug = true;\n      return response;\n    }\n  },\n\n  paapiReplacer(paapiDef, ruleNo) {\n    function wrap(configs = []) {\n      return configs.map(config => {\n        return Object.keys(config).some(k => !['config', 'igb'].includes(k))\n          ? {config}\n          : config\n      });\n    }\n    if (Array.isArray(paapiDef)) {\n      return () => wrap(paapiDef);\n    } else if (typeof paapiDef === 'function') {\n      return (...args) => wrap(paapiDef(...args))\n    } else {\n      this.logger.logError(`Invalid 'paapi' definition for debug bid interceptor (in rule #${ruleNo})`);\n    }\n  },\n\n  responseDefaults(bid) {\n    return {\n      requestId: bid.bidId,\n      cpm: 3.5764,\n      currency: 'EUR',\n      width: 300,\n      height: 250,\n      ttl: 360,\n      creativeId: 'mock-creative-id',\n      netRevenue: false,\n      meta: {}\n    };\n  },\n  defaultAd(bid, bidResponse) {\n    return `<html><head><style>#ad {width: ${bidResponse.width}px;height: ${bidResponse.height}px;background-color: #f6f6ae;color: #85144b;padding: 5px;text-align: center;display: flex;flex-direction: column;align-items: center;justify-content: center;}#bidder {font-family: monospace;font-weight: normal;}#title {font-size: x-large;font-weight: bold;margin-bottom: 5px;}#body {font-size: large;margin-top: 5px;}</style></head><body><div id=\"ad\"><div id=\"title\">Mock ad: <span id=\"bidder\">${bid.bidder}</span></div><div id=\"body\">${bidResponse.width}x${bidResponse.height}</div></div></body></html>`;\n  },\n  /**\n   * Match a candidate bid against all registered rules.\n   *\n   * @param {{}} candidate\n   * @param args\n   * @returns {Rule|undefined} the first matching rule, or undefined if no match was found.\n   */\n  match(candidate, ...args) {\n    return this.rules.find((rule) => rule.match(candidate, ...args));\n  },\n  /**\n   * Match a set of bids against all registered rules.\n   *\n   * @param bids\n   * @param bidRequest\n   * @returns {[{bid: *, rule: Rule}[], *[]]} a 2-tuple for matching bids (decorated with the matching rule) and\n   * non-matching bids.\n   */\n  matchAll(bids, bidRequest) {\n    const [matches, remainder] = [[], []];\n    bids.forEach((bid) => {\n      const rule = this.match(bid, bidRequest);\n      if (rule != null) {\n        matches.push({rule: rule, bid: bid});\n      } else {\n        remainder.push(bid);\n      }\n    })\n    return [matches, remainder];\n  },\n  /**\n   * Run a set of bids against all registered rules, filter out those that match,\n   * and generate mock responses for them.\n   *\n   * @param {{}[]} bids?\n   * @param {BidRequest} bidRequest\n   * @param {function(*)} addBid called once for each mock response\n   * @param addPaapiConfig called once for each mock PAAPI config\n   * @param {function()} done called once after all mock responses have been run through `addBid`\n   * @returns {{bids: {}[], bidRequest: {}} remaining bids that did not match any rule (this applies also to\n   * bidRequest.bids)\n   */\n  intercept({bids, bidRequest, addBid, addPaapiConfig, done}) {\n    if (bids == null) {\n      bids = bidRequest.bids;\n    }\n    const [matches, remainder] = this.matchAll(bids, bidRequest);\n    if (matches.length > 0) {\n      const callDone = delayExecution(done, matches.length);\n      matches.forEach((match) => {\n        const mockResponse = match.rule.replace(match.bid, bidRequest);\n        const mockPaapi = match.rule.paapi(match.bid, bidRequest);\n        const delay = match.rule.options.delay;\n        this.logger.logMessage(`Intercepted bid request (matching rule #${match.rule.no}), mocking response in ${delay}ms. Request, response, PAAPI configs:`, match.bid, mockResponse, mockPaapi)\n        this.setTimeout(() => {\n          mockResponse && addBid(mockResponse, match.bid);\n          mockPaapi.forEach(cfg => addPaapiConfig(cfg, match.bid, bidRequest));\n          callDone();\n        }, delay)\n      });\n      bidRequest = deepClone(bidRequest);\n      bids = bidRequest.bids = remainder;\n    } else {\n      this.setTimeout(done, 0);\n    }\n    return {bids, bidRequest};\n  }\n});\n","import {deepClone, delayExecution} from '../../src/utils.js';\nimport {BidInterceptor} from './bidInterceptor.js';\nimport {makePbsInterceptor} from './pbsInterceptor.js';\nimport {addHooks, removeHooks} from './legacy.js';\n\nconst interceptorHooks = [];\nlet bidInterceptor;\nlet enabled = false;\n\nfunction enableDebugging(debugConfig, {fromSession = false, config, hook, logger}) {\n  config.setConfig({debug: true});\n  bidInterceptor.updateConfig(debugConfig);\n  resetHooks(true);\n  // also enable \"legacy\" overrides\n  removeHooks({hook});\n  addHooks(debugConfig, {hook, logger});\n  if (!enabled) {\n    enabled = true;\n    logger.logMessage(`Debug overrides enabled${fromSession ? ' from session' : ''}`);\n  }\n}\n\nexport function disableDebugging({hook, logger}) {\n  bidInterceptor.updateConfig(({}));\n  resetHooks(false);\n  // also disable \"legacy\" overrides\n  removeHooks({hook});\n  if (enabled) {\n    enabled = false;\n    logger.logMessage('Debug overrides disabled');\n  }\n}\n\n// eslint-disable-next-line prebid/no-global\nfunction saveDebuggingConfig(debugConfig, {sessionStorage = window.sessionStorage, DEBUG_KEY} = {}) {\n  if (!debugConfig.enabled) {\n    try {\n      sessionStorage.removeItem(DEBUG_KEY);\n    } catch (e) {\n    }\n  } else {\n    if (debugConfig.intercept) {\n      debugConfig = deepClone(debugConfig);\n      debugConfig.intercept = bidInterceptor.serializeConfig(debugConfig.intercept);\n    }\n    try {\n      sessionStorage.setItem(DEBUG_KEY, JSON.stringify(debugConfig));\n    } catch (e) {\n    }\n  }\n}\n\n// eslint-disable-next-line prebid/no-global\nexport function getConfig(debugging, {getStorage = () => window.sessionStorage, DEBUG_KEY, config, hook, logger} = {}) {\n  if (debugging == null) return;\n  let sessionStorage;\n  try {\n    sessionStorage = getStorage();\n  } catch (e) {\n    logger.logError(`sessionStorage is not available: debugging configuration will not persist on page reload`, e);\n  }\n  if (sessionStorage != null) {\n    saveDebuggingConfig(debugging, {sessionStorage, DEBUG_KEY});\n  }\n  if (!debugging.enabled) {\n    disableDebugging({hook, logger});\n  } else {\n    enableDebugging(debugging, {config, hook, logger});\n  }\n}\n\nexport function sessionLoader({DEBUG_KEY, storage, config, hook, logger}) {\n  let overrides;\n  try {\n    // eslint-disable-next-line prebid/no-global\n    storage = storage || window.sessionStorage;\n    overrides = JSON.parse(storage.getItem(DEBUG_KEY));\n  } catch (e) {\n  }\n  if (overrides) {\n    enableDebugging(overrides, {fromSession: true, config, hook, logger});\n  }\n}\n\nfunction resetHooks(enable) {\n  interceptorHooks.forEach(([getHookFn, interceptor]) => {\n    getHookFn().getHooks({hook: interceptor}).remove();\n  });\n  if (enable) {\n    interceptorHooks.forEach(([getHookFn, interceptor]) => {\n      getHookFn().before(interceptor);\n    });\n  }\n}\n\nfunction registerBidInterceptor(getHookFn, interceptor) {\n  const interceptBids = (...args) => bidInterceptor.intercept(...args);\n  interceptorHooks.push([getHookFn, function (next, ...args) {\n    interceptor(next, interceptBids, ...args);\n  }]);\n}\n\nexport function bidderBidInterceptor(next, interceptBids, spec, bids, bidRequest, ajax, wrapCallback, cbs) {\n  const done = delayExecution(cbs.onCompletion, 2);\n  ({bids, bidRequest} = interceptBids({\n    bids,\n    bidRequest,\n    addBid: wrapCallback(cbs.onBid),\n    addPaapiConfig: wrapCallback((config, bidRequest) => cbs.onPaapi({bidId: bidRequest.bidId, ...config})),\n    done\n  }));\n  if (bids.length === 0) {\n    // eslint-disable-next-line no-unused-expressions\n    cbs.onResponse?.({}); // trigger onResponse so that the bidder may be marked as \"timely\" if necessary\n    done();\n  } else {\n    next(spec, bids, bidRequest, ajax, wrapCallback, {...cbs, onCompletion: done});\n  }\n}\n\nexport function install({DEBUG_KEY, config, hook, createBid, logger}) {\n  bidInterceptor = new BidInterceptor({logger});\n  const pbsBidInterceptor = makePbsInterceptor({createBid});\n  registerBidInterceptor(() => hook.get('processBidderRequests'), bidderBidInterceptor);\n  registerBidInterceptor(() => hook.get('processPBSRequest'), pbsBidInterceptor);\n  sessionLoader({DEBUG_KEY, config, hook, logger});\n  config.getConfig('debugging', ({debugging}) => getConfig(debugging, {DEBUG_KEY, config, hook, logger}), {init: true});\n}\n","export let addBidResponseBound;\nexport let addBidderRequestsBound;\n\nexport function addHooks(overrides, {hook, logger}) {\n  addBidResponseBound = addBidResponseHook.bind({overrides, logger});\n  hook.get('addBidResponse').before(addBidResponseBound, 5);\n\n  addBidderRequestsBound = addBidderRequestsHook.bind({overrides, logger});\n  hook.get('addBidderRequests').before(addBidderRequestsBound, 5);\n}\n\nexport function removeHooks({hook}) {\n  hook.get('addBidResponse').getHooks({hook: addBidResponseBound}).remove();\n  hook.get('addBidderRequests').getHooks({hook: addBidderRequestsBound}).remove();\n}\n\n/**\n * @param {{bidder:string, adUnitCode:string}} overrideObj\n * @param {string} bidderCode\n * @param {string} adUnitCode\n * @returns {boolean}\n */\nexport function bidExcluded(overrideObj, bidderCode, adUnitCode) {\n  if (overrideObj.bidder && overrideObj.bidder !== bidderCode) {\n    return true;\n  }\n  if (overrideObj.adUnitCode && overrideObj.adUnitCode !== adUnitCode) {\n    return true;\n  }\n  return false;\n}\n\n/**\n * @param {string[]} bidders\n * @param {string} bidderCode\n * @returns {boolean}\n */\nexport function bidderExcluded(bidders, bidderCode) {\n  return (Array.isArray(bidders) && bidders.indexOf(bidderCode) === -1);\n}\n\n/**\n * @param {Object} overrideObj\n * @param {Object} bidObj\n * @param {Object} bidType\n * @returns {Object} bidObj with overridden properties\n */\nexport function applyBidOverrides(overrideObj, bidObj, bidType, logger) {\n  return Object.keys(overrideObj).filter(key => (['adUnitCode', 'bidder'].indexOf(key) === -1)).reduce(function(result, key) {\n    logger.logMessage(`bidder overrides changed '${result.adUnitCode}/${result.bidderCode}' ${bidType}.${key} from '${result[key]}.js' to '${overrideObj[key]}'`);\n    result[key] = overrideObj[key];\n    result.isDebug = true;\n    return result;\n  }, bidObj);\n}\n\nexport function addBidResponseHook(next, adUnitCode, bid, reject) {\n  const {overrides, logger} = this;\n\n  if (bidderExcluded(overrides.bidders, bid.bidderCode)) {\n    logger.logWarn(`bidder '${bid.bidderCode}' excluded from auction by bidder overrides`);\n    return;\n  }\n\n  if (Array.isArray(overrides.bids)) {\n    overrides.bids.forEach(function(overrideBid) {\n      if (!bidExcluded(overrideBid, bid.bidderCode, adUnitCode)) {\n        applyBidOverrides(overrideBid, bid, 'bidder', logger);\n      }\n    });\n  }\n\n  next(adUnitCode, bid, reject);\n}\n\nexport function addBidderRequestsHook(next, bidderRequests) {\n  const {overrides, logger} = this;\n\n  const includedBidderRequests = bidderRequests.filter(function (bidderRequest) {\n    if (bidderExcluded(overrides.bidders, bidderRequest.bidderCode)) {\n      logger.logWarn(`bidRequest '${bidderRequest.bidderCode}' excluded from auction by bidder overrides`);\n      return false;\n    }\n    return true;\n  });\n\n  if (Array.isArray(overrides.bidRequests)) {\n    includedBidderRequests.forEach(function(bidderRequest) {\n      overrides.bidRequests.forEach(function(overrideBid) {\n        bidderRequest.bids.forEach(function(bid) {\n          if (!bidExcluded(overrideBid, bidderRequest.bidderCode, bid.adUnitCode)) {\n            applyBidOverrides(overrideBid, bid, 'bidRequest', logger);\n          }\n        });\n      });\n    });\n  }\n\n  next(includedBidderRequests);\n}\n","import {deepClone, delayExecution} from '../../src/utils.js';\nimport { STATUS } from '../../src/constants.js';\n\nexport function makePbsInterceptor({createBid}) {\n  return function pbsBidInterceptor(next, interceptBids, s2sBidRequest, bidRequests, ajax, {\n    onResponse,\n    onError,\n    onBid,\n    onFledge,\n  }) {\n    let responseArgs;\n    const done = delayExecution(() => onResponse(...responseArgs), bidRequests.length + 1)\n    function signalResponse(...args) {\n      responseArgs = args;\n      done();\n    }\n    function addBid(bid, bidRequest) {\n      onBid({\n        adUnit: bidRequest.adUnitCode,\n        bid: Object.assign(createBid(STATUS.GOOD, bidRequest), bid)\n      })\n    }\n    bidRequests = bidRequests\n      .map((req) => interceptBids({\n        bidRequest: req,\n        addBid,\n        addPaapiConfig(config, bidRequest, bidderRequest) {\n          onFledge({\n            adUnitCode: bidRequest.adUnitCode,\n            ortb2: bidderRequest.ortb2,\n            ortb2Imp: bidRequest.ortb2Imp,\n            ...config\n          })\n        },\n        done\n      }).bidRequest)\n      .filter((req) => req.bids.length > 0)\n\n    if (bidRequests.length > 0) {\n      const bidIds = new Set();\n      bidRequests.forEach((req) => req.bids.forEach((bid) => bidIds.add(bid.bidId)));\n      s2sBidRequest = deepClone(s2sBidRequest);\n      s2sBidRequest.ad_units.forEach((unit) => {\n        unit.bids = unit.bids.filter((bid) => bidIds.has(bid.bid_id));\n      })\n      s2sBidRequest.ad_units = s2sBidRequest.ad_units.filter((unit) => unit.bids.length > 0);\n      next(s2sBidRequest, bidRequests, ajax, {onResponse: signalResponse, onError, onBid});\n    } else {\n      signalResponse(true, []);\n    }\n  }\n}\n","/*\n * Module for getting and setting Prebid configuration.\n*/\n\n/**\n * @typedef {Object} MediaTypePriceGranularity\n *\n * @property {(string|Object)} [banner]\n * @property {(string|Object)} [native]\n * @property {(string|Object)} [video]\n * @property {(string|Object)} [video-instream]\n * @property {(string|Object)} [video-outstream]\n */\n\nimport {isValidPriceConfig} from './cpmBucketManager.js';\nimport {arrayFrom as from, find, includes} from './polyfill.js';\nimport {\n  deepAccess,\n  deepClone,\n  getParameterByName,\n  isArray,\n  isBoolean,\n  isPlainObject,\n  isStr,\n  logError,\n  logMessage,\n  logWarn,\n  mergeDeep\n} from './utils.js';\nimport {DEBUG_MODE} from './constants.js';\n\nconst DEFAULT_DEBUG = getParameterByName(DEBUG_MODE).toUpperCase() === 'TRUE';\nconst DEFAULT_BIDDER_TIMEOUT = 3000;\nconst DEFAULT_ENABLE_SEND_ALL_BIDS = true;\nconst DEFAULT_DISABLE_AJAX_TIMEOUT = false;\nconst DEFAULT_BID_CACHE = false;\nconst DEFAULT_DEVICE_ACCESS = true;\nconst DEFAULT_MAX_NESTED_IFRAMES = 10;\nconst DEFAULT_MAXBID_VALUE = 5000\n\nconst DEFAULT_IFRAMES_CONFIG = {};\n\nexport const RANDOM = 'random';\nconst FIXED = 'fixed';\n\nconst VALID_ORDERS = {};\nVALID_ORDERS[RANDOM] = true;\nVALID_ORDERS[FIXED] = true;\n\nconst DEFAULT_BIDDER_SEQUENCE = RANDOM;\n\nconst GRANULARITY_OPTIONS = {\n  LOW: 'low',\n  MEDIUM: 'medium',\n  HIGH: 'high',\n  AUTO: 'auto',\n  DENSE: 'dense',\n  CUSTOM: 'custom'\n};\n\nconst ALL_TOPICS = '*';\n\nfunction attachProperties(config, useDefaultValues = true) {\n  const values = useDefaultValues ? {\n    priceGranularity: GRANULARITY_OPTIONS.MEDIUM,\n    customPriceBucket: {},\n    mediaTypePriceGranularity: {},\n    bidderSequence: DEFAULT_BIDDER_SEQUENCE,\n    auctionOptions: {}\n  } : {}\n\n  function getProp(name) {\n    return values[name];\n  }\n\n  function setProp(name, val) {\n    if (!values.hasOwnProperty(name)) {\n      Object.defineProperty(config, name, {enumerable: true});\n    }\n    values[name] = val;\n  }\n\n  const props = {\n    publisherDomain: {\n      set(val) {\n        if (val != null) {\n          logWarn('publisherDomain is deprecated and has no effect since v7 - use pageUrl instead')\n        }\n        setProp('publisherDomain', val);\n      }\n    },\n    priceGranularity: {\n      set(val) {\n        if (validatePriceGranularity(val)) {\n          if (typeof val === 'string') {\n            setProp('priceGranularity', (hasGranularity(val)) ? val : GRANULARITY_OPTIONS.MEDIUM);\n          } else if (isPlainObject(val)) {\n            setProp('customPriceBucket', val);\n            setProp('priceGranularity', GRANULARITY_OPTIONS.CUSTOM)\n            logMessage('Using custom price granularity');\n          }\n        }\n      }\n    },\n    customPriceBucket: {},\n    mediaTypePriceGranularity: {\n      set(val) {\n        val != null && setProp('mediaTypePriceGranularity', Object.keys(val).reduce((aggregate, item) => {\n          if (validatePriceGranularity(val[item])) {\n            if (typeof val === 'string') {\n              aggregate[item] = (hasGranularity(val[item])) ? val[item] : getProp('priceGranularity');\n            } else if (isPlainObject(val)) {\n              aggregate[item] = val[item];\n              logMessage(`Using custom price granularity for ${item}`);\n            }\n          } else {\n            logWarn(`Invalid price granularity for media type: ${item}`);\n          }\n          return aggregate;\n        }, {}));\n      }\n    },\n    bidderSequence: {\n      set(val) {\n        if (VALID_ORDERS[val]) {\n          setProp('bidderSequence', val);\n        } else {\n          logWarn(`Invalid order: ${val}. Bidder Sequence was not set.`);\n        }\n      }\n    },\n    auctionOptions: {\n      set(val) {\n        if (validateauctionOptions(val)) {\n          setProp('auctionOptions', val);\n        }\n      }\n    }\n  }\n\n  Object.defineProperties(config, Object.fromEntries(\n    Object.entries(props)\n      .map(([k, def]) => [k, Object.assign({\n        get: getProp.bind(null, k),\n        set: setProp.bind(null, k),\n        enumerable: values.hasOwnProperty(k),\n        configurable: !values.hasOwnProperty(k)\n      }, def)])\n  ));\n\n  return config;\n\n  function hasGranularity(val) {\n    return find(Object.keys(GRANULARITY_OPTIONS), option => val === GRANULARITY_OPTIONS[option]);\n  }\n\n  function validatePriceGranularity(val) {\n    if (!val) {\n      logError('Prebid Error: no value passed to `setPriceGranularity()`');\n      return false;\n    }\n    if (typeof val === 'string') {\n      if (!hasGranularity(val)) {\n        logWarn('Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.');\n      }\n    } else if (isPlainObject(val)) {\n      if (!isValidPriceConfig(val)) {\n        logError('Invalid custom price value passed to `setPriceGranularity()`');\n        return false;\n      }\n    }\n    return true;\n  }\n\n  function validateauctionOptions(val) {\n    if (!isPlainObject(val)) {\n      logWarn('Auction Options must be an object')\n      return false\n    }\n\n    for (let k of Object.keys(val)) {\n      if (k !== 'secondaryBidders' && k !== 'suppressStaleRender' && k !== 'suppressExpiredRender') {\n        logWarn(`Auction Options given an incorrect param: ${k}`)\n        return false\n      }\n      if (k === 'secondaryBidders') {\n        if (!isArray(val[k])) {\n          logWarn(`Auction Options ${k} must be of type Array`);\n          return false\n        } else if (!val[k].every(isStr)) {\n          logWarn(`Auction Options ${k} must be only string`);\n          return false\n        }\n      } else if (k === 'suppressStaleRender' || k === 'suppressExpiredRender') {\n        if (!isBoolean(val[k])) {\n          logWarn(`Auction Options ${k} must be of type boolean`);\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n}\n\nexport function newConfig() {\n  let listeners = [];\n  let defaults;\n  let config;\n  let bidderConfig;\n  let currBidder = null;\n\n  function resetConfig() {\n    defaults = {};\n\n    let newConfig = attachProperties({\n      // `debug` is equivalent to legacy `pbjs.logging` property\n      debug: DEFAULT_DEBUG,\n      bidderTimeout: DEFAULT_BIDDER_TIMEOUT,\n      enableSendAllBids: DEFAULT_ENABLE_SEND_ALL_BIDS,\n      useBidCache: DEFAULT_BID_CACHE,\n\n      /**\n       * deviceAccess set to false will disable setCookie, getCookie, hasLocalStorage\n       * @type {boolean}\n       */\n      deviceAccess: DEFAULT_DEVICE_ACCESS,\n\n      disableAjaxTimeout: DEFAULT_DISABLE_AJAX_TIMEOUT,\n\n      // default max nested iframes for referer detection\n      maxNestedIframes: DEFAULT_MAX_NESTED_IFRAMES,\n\n      // default max bid\n      maxBid: DEFAULT_MAXBID_VALUE,\n      userSync: {\n        topics: DEFAULT_IFRAMES_CONFIG\n      }\n    });\n\n    if (config) {\n      callSubscribers(\n        Object.keys(config).reduce((memo, topic) => {\n          if (config[topic] !== newConfig[topic]) {\n            memo[topic] = newConfig[topic] || {};\n          }\n          return memo;\n        },\n        {})\n      );\n    }\n\n    config = newConfig;\n    bidderConfig = {};\n  }\n\n  /**\n   * Returns base config with bidder overrides (if there is currently a bidder)\n   * @private\n   */\n  function _getConfig() {\n    if (currBidder && bidderConfig && isPlainObject(bidderConfig[currBidder])) {\n      let currBidderConfig = bidderConfig[currBidder];\n      const configTopicSet = new Set(Object.keys(config).concat(Object.keys(currBidderConfig)));\n\n      return from(configTopicSet).reduce((memo, topic) => {\n        if (typeof currBidderConfig[topic] === 'undefined') {\n          memo[topic] = config[topic];\n        } else if (typeof config[topic] === 'undefined') {\n          memo[topic] = currBidderConfig[topic];\n        } else {\n          if (isPlainObject(currBidderConfig[topic])) {\n            memo[topic] = mergeDeep({}, config[topic], currBidderConfig[topic]);\n          } else {\n            memo[topic] = currBidderConfig[topic];\n          }\n        }\n        return memo;\n      }, {});\n    }\n    return Object.assign({}, config);\n  }\n\n  function _getRestrictedConfig() {\n    // This causes reading 'ortb2' to throw an error; with prebid 7, that will almost\n    // always be the incorrect way to access FPD configuration (https://github.com/prebid/Prebid.js/issues/7651)\n    // code that needs the ortb2 config should explicitly use `getAnyConfig`\n    // TODO: this is meant as a temporary tripwire to catch inadvertent use of `getConfig('ortb')` as we transition.\n    // It should be removed once the risk of that happening is low enough.\n    const conf = _getConfig();\n    Object.defineProperty(conf, 'ortb2', {\n      get: function () {\n        throw new Error('invalid access to \\'orbt2\\' config - use request parameters instead');\n      }\n    });\n    return conf;\n  }\n\n  const [getAnyConfig, getConfig] = [_getConfig, _getRestrictedConfig].map(accessor => {\n    /*\n     * Returns configuration object if called without parameters,\n     * or single configuration property if given a string matching a configuration\n     * property name.  Allows deep access e.g. getConfig('currency.adServerCurrency')\n     *\n     * If called with callback parameter, or a string and a callback parameter,\n     * subscribes to configuration updates. See `subscribe` function for usage.\n     */\n    return function getConfig(...args) {\n      if (args.length <= 1 && typeof args[0] !== 'function') {\n        const option = args[0];\n        return option ? deepAccess(accessor(), option) : _getConfig();\n      }\n\n      return subscribe(...args);\n    }\n  })\n\n  const [readConfig, readAnyConfig] = [getConfig, getAnyConfig].map(wrapee => {\n    /*\n     * Like getConfig, except that it returns a deepClone of the result.\n     */\n    return function readConfig(...args) {\n      let res = wrapee(...args);\n      if (res && typeof res === 'object') {\n        res = deepClone(res);\n      }\n      return res;\n    }\n  })\n\n  /**\n   * Internal API for modules (such as prebid-server) that might need access to all bidder config\n   */\n  function getBidderConfig() {\n    return bidderConfig;\n  }\n\n  /*\n   * Sets configuration given an object containing key-value pairs and calls\n   * listeners that were added by the `subscribe` function\n   */\n  function setConfig(options) {\n    if (!isPlainObject(options)) {\n      logError('setConfig options must be an object');\n      return;\n    }\n\n    let topics = Object.keys(options);\n    let topicalConfig = {};\n\n    topics.forEach(topic => {\n      let option = options[topic];\n\n      if (isPlainObject(defaults[topic]) && isPlainObject(option)) {\n        option = Object.assign({}, defaults[topic], option);\n      }\n\n      try {\n        topicalConfig[topic] = config[topic] = option;\n      } catch (e) {\n        logWarn(`Cannot set config for property ${topic} : `, e)\n      }\n    });\n\n    callSubscribers(topicalConfig);\n  }\n\n  /**\n   * Sets configuration defaults which setConfig values can be applied on top of\n   * @param {object} options\n   */\n  function setDefaults(options) {\n    if (!isPlainObject(defaults)) {\n      logError('defaults must be an object');\n      return;\n    }\n\n    Object.assign(defaults, options);\n    // Add default values to config as well\n    Object.assign(config, options);\n  }\n\n  /*\n   * Adds a function to a set of listeners that are invoked whenever `setConfig`\n   * is called. The subscribed function will be passed the options object that\n   * was used in the `setConfig` call. Topics can be subscribed to to only get\n   * updates when specific properties are updated by passing a topic string as\n   * the first parameter.\n   *\n   * If `options.init` is true, the listener will be immediately called with the current options.\n   *\n   * Returns an `unsubscribe` function for removing the subscriber from the\n   * set of listeners\n   *\n   * Example use:\n   * // subscribe to all configuration changes\n   * subscribe((config) => console.log('config set:', config));\n   *\n   * // subscribe to only 'logging' changes\n   * subscribe('logging', (config) => console.log('logging set:', config));\n   *\n   * // unsubscribe\n   * const unsubscribe = subscribe(...);\n   * unsubscribe(); // no longer listening\n   *\n   */\n  function subscribe(topic, listener, options = {}) {\n    let callback = listener;\n\n    if (typeof topic !== 'string') {\n      // first param should be callback function in this case,\n      // meaning it gets called for any config change\n      callback = topic;\n      topic = ALL_TOPICS;\n      options = listener || {};\n    }\n\n    if (typeof callback !== 'function') {\n      logError('listener must be a function');\n      return;\n    }\n\n    const nl = { topic, callback };\n    listeners.push(nl);\n\n    if (options.init) {\n      if (topic === ALL_TOPICS) {\n        callback(getConfig());\n      } else {\n        // eslint-disable-next-line standard/no-callback-literal\n        callback({[topic]: getConfig(topic)});\n      }\n    }\n\n    // save and call this function to remove the listener\n    return function unsubscribe() {\n      listeners.splice(listeners.indexOf(nl), 1);\n    };\n  }\n\n  /*\n   * Calls listeners that were added by the `subscribe` function\n   */\n  function callSubscribers(options) {\n    const TOPICS = Object.keys(options);\n\n    // call subscribers of a specific topic, passing only that configuration\n    listeners\n      .filter(listener => includes(TOPICS, listener.topic))\n      .forEach(listener => {\n        listener.callback({ [listener.topic]: options[listener.topic] });\n      });\n\n    // call subscribers that didn't give a topic, passing everything that was set\n    listeners\n      .filter(listener => listener.topic === ALL_TOPICS)\n      .forEach(listener => listener.callback(options));\n  }\n\n  function setBidderConfig(config, mergeFlag = false) {\n    try {\n      check(config);\n      config.bidders.forEach(bidder => {\n        if (!bidderConfig[bidder]) {\n          bidderConfig[bidder] = attachProperties({}, false);\n        }\n        Object.keys(config.config).forEach(topic => {\n          let option = config.config[topic];\n          const currentConfig = bidderConfig[bidder][topic];\n          if (isPlainObject(option) && (currentConfig == null || isPlainObject(currentConfig))) {\n            const func = mergeFlag ? mergeDeep : Object.assign;\n            bidderConfig[bidder][topic] = func({}, currentConfig || {}, option);\n          } else {\n            bidderConfig[bidder][topic] = option;\n          }\n        });\n      });\n    } catch (e) {\n      logError(e);\n    }\n\n    function check(obj) {\n      if (!isPlainObject(obj)) {\n        throw 'setBidderConfig bidder options must be an object';\n      }\n      if (!(Array.isArray(obj.bidders) && obj.bidders.length)) {\n        throw 'setBidderConfig bidder options must contain a bidders list with at least 1 bidder';\n      }\n      if (!isPlainObject(obj.config)) {\n        throw 'setBidderConfig bidder options must contain a config object';\n      }\n    }\n  }\n\n  function mergeConfig(obj) {\n    if (!isPlainObject(obj)) {\n      logError('mergeConfig input must be an object');\n      return;\n    }\n\n    const mergedConfig = mergeDeep(_getConfig(), obj);\n\n    setConfig({ ...mergedConfig });\n    return mergedConfig;\n  }\n\n  function mergeBidderConfig(obj) {\n    return setBidderConfig(obj, true);\n  }\n\n  /**\n   * Internal functions for core to execute some synchronous code while having an active bidder set.\n   */\n  function runWithBidder(bidder, fn) {\n    currBidder = bidder;\n    try {\n      return fn();\n    } finally {\n      resetBidder();\n    }\n  }\n  function callbackWithBidder(bidder) {\n    return function(cb) {\n      return function(...args) {\n        if (typeof cb === 'function') {\n          return runWithBidder(bidder, cb.bind(this, ...args))\n        } else {\n          logWarn('config.callbackWithBidder callback is not a function');\n        }\n      }\n    }\n  }\n\n  function getCurrentBidder() {\n    return currBidder;\n  }\n\n  function resetBidder() {\n    currBidder = null;\n  }\n\n  resetConfig();\n\n  return {\n    getCurrentBidder,\n    resetBidder,\n    getConfig,\n    getAnyConfig,\n    readConfig,\n    readAnyConfig,\n    setConfig,\n    mergeConfig,\n    setDefaults,\n    resetConfig,\n    runWithBidder,\n    callbackWithBidder,\n    setBidderConfig,\n    getBidderConfig,\n    mergeBidderConfig,\n  };\n}\n\n/**\n * Set a `cache.url` if we should use prebid-cache to store video bids before adding bids to the auction.\n * This must be set if you want to use the dfpAdServerVideo module.\n */\nexport const config = newConfig();\n","export const JSON_MAPPING = {\n  PL_CODE: 'code',\n  PL_SIZE: 'sizes',\n  PL_BIDS: 'bids',\n  BD_BIDDER: 'bidder',\n  BD_ID: 'paramsd',\n  BD_PL_ID: 'placementId',\n  ADSERVER_TARGETING: 'adserverTargeting',\n  BD_SETTING_STANDARD: 'standard'\n};\n\nexport const DEBUG_MODE = 'pbjs_debug';\n\nexport const STATUS = {\n  GOOD: 1\n};\n\nexport const EVENTS = {\n  AUCTION_INIT: 'auctionInit',\n  AUCTION_TIMEOUT: 'auctionTimeout',\n  AUCTION_END: 'auctionEnd',\n  BID_ADJUSTMENT: 'bidAdjustment',\n  BID_TIMEOUT: 'bidTimeout',\n  BID_REQUESTED: 'bidRequested',\n  BID_RESPONSE: 'bidResponse',\n  BID_REJECTED: 'bidRejected',\n  NO_BID: 'noBid',\n  SEAT_NON_BID: 'seatNonBid',\n  BID_WON: 'bidWon',\n  BIDDER_DONE: 'bidderDone',\n  BIDDER_ERROR: 'bidderError',\n  SET_TARGETING: 'setTargeting',\n  BEFORE_REQUEST_BIDS: 'beforeRequestBids',\n  BEFORE_BIDDER_HTTP: 'beforeBidderHttp',\n  REQUEST_BIDS: 'requestBids',\n  ADD_AD_UNITS: 'addAdUnits',\n  AD_RENDER_FAILED: 'adRenderFailed',\n  AD_RENDER_SUCCEEDED: 'adRenderSucceeded',\n  TCF2_ENFORCEMENT: 'tcf2Enforcement',\n  AUCTION_DEBUG: 'auctionDebug',\n  BID_VIEWABLE: 'bidViewable',\n  STALE_RENDER: 'staleRender',\n  EXPIRED_RENDER: 'expiredRender',\n  BILLABLE_EVENT: 'billableEvent',\n  BID_ACCEPTED: 'bidAccepted',\n  RUN_PAAPI_AUCTION: 'paapiRunAuction',\n  PBS_ANALYTICS: 'pbsAnalytics',\n  PAAPI_BID: 'paapiBid',\n  PAAPI_NO_BID: 'paapiNoBid',\n  PAAPI_ERROR: 'paapiError',\n};\n\nexport const AD_RENDER_FAILED_REASON = {\n  PREVENT_WRITING_ON_MAIN_DOCUMENT: 'preventWritingOnMainDocument',\n  NO_AD: 'noAd',\n  EXCEPTION: 'exception',\n  CANNOT_FIND_AD: 'cannotFindAd',\n  MISSING_DOC_OR_ADID: 'missingDocOrAdid'\n};\n\nexport const EVENT_ID_PATHS = {\n  bidWon: 'adUnitCode'\n};\n\nexport const GRANULARITY_OPTIONS = {\n  LOW: 'low',\n  MEDIUM: 'medium',\n  HIGH: 'high',\n  AUTO: 'auto',\n  DENSE: 'dense',\n  CUSTOM: 'custom'\n};\n\nexport const TARGETING_KEYS = {\n  BIDDER: 'hb_bidder',\n  AD_ID: 'hb_adid',\n  PRICE_BUCKET: 'hb_pb',\n  SIZE: 'hb_size',\n  DEAL: 'hb_deal',\n  SOURCE: 'hb_source',\n  FORMAT: 'hb_format',\n  UUID: 'hb_uuid',\n  CACHE_ID: 'hb_cache_id',\n  CACHE_HOST: 'hb_cache_host',\n  ADOMAIN: 'hb_adomain',\n  ACAT: 'hb_acat',\n  CRID: 'hb_crid',\n  DSP: 'hb_dsp'\n};\n\nexport const DEFAULT_TARGETING_KEYS = {\n  BIDDER: 'hb_bidder',\n  AD_ID: 'hb_adid',\n  PRICE_BUCKET: 'hb_pb',\n  SIZE: 'hb_size',\n  DEAL: 'hb_deal',\n  FORMAT: 'hb_format',\n  UUID: 'hb_uuid',\n  CACHE_HOST: 'hb_cache_host'\n};\n\nexport const NATIVE_KEYS = {\n  title: 'hb_native_title',\n  body: 'hb_native_body',\n  body2: 'hb_native_body2',\n  privacyLink: 'hb_native_privacy',\n  privacyIcon: 'hb_native_privicon',\n  sponsoredBy: 'hb_native_brand',\n  image: 'hb_native_image',\n  icon: 'hb_native_icon',\n  clickUrl: 'hb_native_linkurl',\n  displayUrl: 'hb_native_displayurl',\n  cta: 'hb_native_cta',\n  rating: 'hb_native_rating',\n  address: 'hb_native_address',\n  downloads: 'hb_native_downloads',\n  likes: 'hb_native_likes',\n  phone: 'hb_native_phone',\n  price: 'hb_native_price',\n  salePrice: 'hb_native_saleprice',\n  rendererUrl: 'hb_renderer_url',\n  adTemplate: 'hb_adTemplate'\n};\n\nexport const S2S = {\n  SRC: 's2s',\n  DEFAULT_ENDPOINT: 'https://prebid.adnxs.com/pbs/v1/openrtb2/auction',\n  SYNCED_BIDDERS_KEY: 'pbjsSyncs'\n};\n\nexport const BID_STATUS = {\n  BID_TARGETING_SET: 'targetingSet',\n  RENDERED: 'rendered',\n  BID_REJECTED: 'bidRejected'\n};\n\nexport const REJECTION_REASON = {\n  INVALID: 'Bid has missing or invalid properties',\n  INVALID_REQUEST_ID: 'Invalid request ID',\n  BIDDER_DISALLOWED: 'Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes',\n  FLOOR_NOT_MET: 'Bid does not meet price floor',\n  CANNOT_CONVERT_CURRENCY: 'Unable to convert currency',\n  DSA_REQUIRED: 'Bid does not provide required DSA transparency info',\n  DSA_MISMATCH: 'Bid indicates inappropriate DSA rendering method',\n  PRICE_TOO_HIGH: 'Bid price exceeds maximum value'\n};\n\nexport const PREBID_NATIVE_DATA_KEYS_TO_ORTB = {\n  body: 'desc',\n  body2: 'desc2',\n  sponsoredBy: 'sponsored',\n  cta: 'ctatext',\n  rating: 'rating',\n  address: 'address',\n  downloads: 'downloads',\n  likes: 'likes',\n  phone: 'phone',\n  price: 'price',\n  salePrice: 'saleprice',\n  displayUrl: 'displayurl'\n};\n\nexport const NATIVE_ASSET_TYPES = {\n  sponsored: 1,\n  desc: 2,\n  rating: 3,\n  likes: 4,\n  downloads: 5,\n  price: 6,\n  saleprice: 7,\n  phone: 8,\n  address: 9,\n  desc2: 10,\n  displayurl: 11,\n  ctatext: 12\n};\n\nexport const NATIVE_IMAGE_TYPES = {\n  ICON: 1,\n  MAIN: 3\n};\n\nexport const NATIVE_KEYS_THAT_ARE_NOT_ASSETS = [\n  'privacyIcon',\n  'clickUrl',\n  'sendTargetingKeys',\n  'adTemplate',\n  'rendererUrl',\n  'type'\n];\n\nexport const MESSAGES = {\n  REQUEST: 'Prebid Request',\n  RESPONSE: 'Prebid Response',\n  NATIVE: 'Prebid Native',\n  EVENT: 'Prebid Event'\n};\n\nexport const PB_LOCATOR = '__pb_locator__';\n","import {find} from './polyfill.js';\nimport { isEmpty, logWarn } from './utils.js';\nimport { config } from './config.js';\n\nconst _defaultPrecision = 2;\nconst _lgPriceConfig = {\n  'buckets': [{\n    'max': 5,\n    'increment': 0.5\n  }]\n};\nconst _mgPriceConfig = {\n  'buckets': [{\n    'max': 20,\n    'increment': 0.1\n  }]\n};\nconst _hgPriceConfig = {\n  'buckets': [{\n    'max': 20,\n    'increment': 0.01\n  }]\n};\nconst _densePriceConfig = {\n  'buckets': [{\n    'max': 3,\n    'increment': 0.01\n  },\n  {\n    'max': 8,\n    'increment': 0.05\n  },\n  {\n    'max': 20,\n    'increment': 0.5\n  }]\n};\nconst _autoPriceConfig = {\n  'buckets': [{\n    'max': 5,\n    'increment': 0.05\n  },\n  {\n    'max': 10,\n    'increment': 0.1\n  },\n  {\n    'max': 20,\n    'increment': 0.5\n  }]\n};\n\nfunction getPriceBucketString(cpm, customConfig, granularityMultiplier = 1) {\n  let cpmFloat = parseFloat(cpm);\n  if (isNaN(cpmFloat)) {\n    cpmFloat = '';\n  }\n\n  return {\n    low: (cpmFloat === '') ? '' : getCpmStringValue(cpm, _lgPriceConfig, granularityMultiplier),\n    med: (cpmFloat === '') ? '' : getCpmStringValue(cpm, _mgPriceConfig, granularityMultiplier),\n    high: (cpmFloat === '') ? '' : getCpmStringValue(cpm, _hgPriceConfig, granularityMultiplier),\n    auto: (cpmFloat === '') ? '' : getCpmStringValue(cpm, _autoPriceConfig, granularityMultiplier),\n    dense: (cpmFloat === '') ? '' : getCpmStringValue(cpm, _densePriceConfig, granularityMultiplier),\n    custom: (cpmFloat === '') ? '' : getCpmStringValue(cpm, customConfig, granularityMultiplier)\n  };\n}\n\nfunction getCpmStringValue(cpm, config, granularityMultiplier) {\n  let cpmStr = '';\n  if (!isValidPriceConfig(config)) {\n    return cpmStr;\n  }\n  const cap = config.buckets.reduce((prev, curr) => {\n    if (prev.max > curr.max) {\n      return prev;\n    }\n    return curr;\n  }, {\n    'max': 0,\n  });\n\n  let bucketFloor = 0;\n  let bucket = find(config.buckets, bucket => {\n    if (cpm > cap.max * granularityMultiplier) {\n      // cpm exceeds cap, just return the cap.\n      let precision = bucket.precision;\n      if (typeof precision === 'undefined') {\n        precision = _defaultPrecision;\n      }\n      cpmStr = (bucket.max * granularityMultiplier).toFixed(precision);\n    } else if (cpm <= bucket.max * granularityMultiplier && cpm >= bucketFloor * granularityMultiplier) {\n      bucket.min = bucketFloor;\n      return bucket;\n    } else {\n      bucketFloor = bucket.max;\n    }\n  });\n  if (bucket) {\n    cpmStr = getCpmTarget(cpm, bucket, granularityMultiplier);\n  }\n  return cpmStr;\n}\n\nfunction isValidPriceConfig(config) {\n  if (isEmpty(config) || !config.buckets || !Array.isArray(config.buckets)) {\n    return false;\n  }\n  let isValid = true;\n  config.buckets.forEach(bucket => {\n    if (!bucket.max || !bucket.increment) {\n      isValid = false;\n    }\n  });\n  return isValid;\n}\n\nfunction getCpmTarget(cpm, bucket, granularityMultiplier) {\n  const precision = typeof bucket.precision !== 'undefined' ? bucket.precision : _defaultPrecision;\n  const increment = bucket.increment * granularityMultiplier;\n  const bucketMin = bucket.min * granularityMultiplier;\n  let roundingFunction = Math.floor;\n  let customRoundingFunction = config.getConfig('cpmRoundingFunction');\n  if (typeof customRoundingFunction === 'function') {\n    roundingFunction = customRoundingFunction;\n  }\n\n  // start increments at the bucket min and then add bucket min back to arrive at the correct rounding\n  // note - we're padding the values to avoid using decimals in the math prior to flooring\n  // this is done as JS can return values slightly below the expected mark which would skew the price bucket target\n  //   (eg 4.01 / 0.01 = 400.99999999999994)\n  // min precison should be 2 to move decimal place over.\n  let pow = Math.pow(10, precision + 2);\n  let cpmToRound = ((cpm * pow) - (bucketMin * pow)) / (increment * pow);\n  let cpmTarget;\n  let invalidRounding;\n  // It is likely that we will be passed {cpmRoundingFunction: roundingFunction()}\n  // rather than the expected {cpmRoundingFunction: roundingFunction}. Default back to floor in that case\n  try {\n    cpmTarget = (roundingFunction(cpmToRound) * increment) + bucketMin;\n  } catch (err) {\n    invalidRounding = true;\n  }\n  if (invalidRounding || typeof cpmTarget !== 'number') {\n    logWarn('Invalid rounding function passed in config');\n    cpmTarget = (Math.floor(cpmToRound) * increment) + bucketMin;\n  }\n  // force to 10 decimal places to deal with imprecise decimal/binary conversions\n  //    (for example 0.1 * 3 = 0.30000000000000004)\n\n  cpmTarget = Number(cpmTarget.toFixed(10));\n  return cpmTarget.toFixed(precision);\n}\n\nexport { getPriceBucketString, isValidPriceConfig };\n","// These stubs are here to help transition away from core-js polyfills for browsers we are no longer supporting.\n// You should not need these for new code; use stock JS instead!\n\nexport function includes(target, elem, start) {\n  return (target && target.includes(elem, start)) || false;\n}\n\nexport function arrayFrom() {\n  return Array.from.apply(Array, arguments);\n}\n\nexport function find(arr, pred, thisArg) {\n  return arr && arr.find(pred, thisArg);\n}\n\nexport function findIndex(arr, pred, thisArg) {\n  return arr && arr.findIndex(pred, thisArg);\n}\n","// if $$PREBID_GLOBAL$$ already exists in global document scope, use it, if not, create the object\n// global defination should happen BEFORE imports to avoid global undefined errors.\n/* global $$DEFINE_PREBID_GLOBAL$$ */\nconst scope = !$$DEFINE_PREBID_GLOBAL$$ ? {} : window;\nconst global = scope.$$PREBID_GLOBAL$$ = scope.$$PREBID_GLOBAL$$ || {};\nglobal.cmd = global.cmd || [];\nglobal.que = global.que || [];\n\n// create a pbjs global pointer\nif (scope === window) {\n  scope._pbjsGlobals = scope._pbjsGlobals || [];\n  scope._pbjsGlobals.push('$$PREBID_GLOBAL$$');\n}\n\nexport function getGlobal() {\n  return global;\n}\n\nexport function registerModule(name) {\n  global.installedModules.push(name);\n}\n","import {config} from './config.js';\nimport {klona} from 'klona/json';\nimport {includes} from './polyfill.js';\nimport {EVENTS} from './constants.js';\nimport {GreedyPromise} from './utils/promise.js';\nimport {getGlobal} from './prebidGlobal.js';\nimport { default as deepAccess } from 'dlv/index.js';\n\nexport { deepAccess };\nexport { dset as deepSetValue } from 'dset';\n\nvar tStr = 'String';\nvar tFn = 'Function';\nvar tNumb = 'Number';\nvar tObject = 'Object';\nvar tBoolean = 'Boolean';\nvar toString = Object.prototype.toString;\nlet consoleExists = Boolean(window.console);\nlet consoleLogExists = Boolean(consoleExists && window.console.log);\nlet consoleInfoExists = Boolean(consoleExists && window.console.info);\nlet consoleWarnExists = Boolean(consoleExists && window.console.warn);\nlet consoleErrorExists = Boolean(consoleExists && window.console.error);\n\nlet eventEmitter;\n\nconst pbjsInstance = getGlobal();\n\nexport function _setEventEmitter(emitFn) {\n  // called from events.js - this hoop is to avoid circular imports\n  eventEmitter = emitFn;\n}\n\nfunction emitEvent(...args) {\n  if (eventEmitter != null) {\n    eventEmitter(...args);\n  }\n}\n\n// this allows stubbing of utility functions that are used internally by other utility functions\nexport const internal = {\n  checkCookieSupport,\n  createTrackPixelIframeHtml,\n  getWindowSelf,\n  getWindowTop,\n  canAccessWindowTop,\n  getWindowLocation,\n  insertUserSyncIframe,\n  insertElement,\n  isFn,\n  triggerPixel,\n  logError,\n  logWarn,\n  logMessage,\n  logInfo,\n  parseQS,\n  formatQS,\n  deepEqual\n};\n\nlet prebidInternal = {};\n/**\n * Returns object that is used as internal prebid namespace\n */\nexport function getPrebidInternal() {\n  return prebidInternal;\n}\n\n/* utility method to get incremental integer starting from 1 */\nvar getIncrementalInteger = (function () {\n  var count = 0;\n  return function () {\n    count++;\n    return count;\n  };\n})();\n\n// generate a random string (to be used as a dynamic JSONP callback)\nexport function getUniqueIdentifierStr() {\n  return getIncrementalInteger() + Math.random().toString(16).substr(2);\n}\n\n/**\n * Returns a random v4 UUID of the form xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx,\n * where each x is replaced with a random hexadecimal digit from 0 to f,\n * and y is replaced with a random hexadecimal digit from 8 to b.\n * https://gist.github.com/jed/982883 via node-uuid\n */\nexport function generateUUID(placeholder) {\n  return placeholder\n    ? (placeholder ^ _getRandomData() >> placeholder / 4).toString(16)\n    : ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, generateUUID);\n}\n\n/**\n * Returns random data using the Crypto API if available and Math.random if not\n * Method is from https://gist.github.com/jed/982883 like generateUUID, direct link https://gist.github.com/jed/982883#gistcomment-45104\n */\nfunction _getRandomData() {\n  if (window && window.crypto && window.crypto.getRandomValues) {\n    return crypto.getRandomValues(new Uint8Array(1))[0] % 16;\n  } else {\n    return Math.random() * 16;\n  }\n}\n\nexport function getBidIdParameter(key, paramsObj) {\n  return paramsObj?.[key] || '';\n}\n\n// parse a query string object passed in bid params\n// bid params should be an object such as {key: \"value\", key1 : \"value1\"}\n// aliases to formatQS\nexport function parseQueryStringParameters(queryObj) {\n  let result = '';\n  for (var k in queryObj) {\n    if (queryObj.hasOwnProperty(k)) { result += k + '=' + encodeURIComponent(queryObj[k]) + '&'; }\n  }\n  result = result.replace(/&$/, '');\n  return result;\n}\n\n// transform an AdServer targeting bids into a query string to send to the adserver\nexport function transformAdServerTargetingObj(targeting) {\n  // we expect to receive targeting for a single slot at a time\n  if (targeting && Object.getOwnPropertyNames(targeting).length > 0) {\n    return Object.keys(targeting)\n      .map(key => `${key}=${encodeURIComponent(targeting[key])}`).join('&');\n  } else {\n    return '';\n  }\n}\n\n/**\n * Parse a GPT-Style general size Array like `[[300, 250]]` or `\"300x250,970x90\"` into an array of width, height tuples `[[300, 250]]` or '[[300,250], [970,90]]'\n */\nexport function sizesToSizeTuples(sizes) {\n  if (typeof sizes === 'string') {\n    // multiple sizes will be comma-separated\n    return sizes\n      .split(/\\s*,\\s*/)\n      .map(sz => sz.match(/^(\\d+)x(\\d+)$/i))\n      .filter(match => match)\n      .map(([_, w, h]) => [parseInt(w, 10), parseInt(h, 10)])\n  } else if (Array.isArray(sizes)) {\n    if (isValidGPTSingleSize(sizes)) {\n      return [sizes]\n    }\n    return sizes.filter(isValidGPTSingleSize);\n  }\n  return [];\n}\n\n/**\n * Parse a GPT-Style general size Array like `[[300, 250]]` or `\"300x250,970x90\"` into an array of sizes `[\"300x250\"]` or '['300x250', '970x90']'\n * @param  {(Array.<number[]>|Array.<number>)} sizeObj Input array or double array [300,250] or [[300,250], [728,90]]\n * @return {Array.<string>}  Array of strings like `[\"300x250\"]` or `[\"300x250\", \"728x90\"]`\n */\nexport function parseSizesInput(sizeObj) {\n  return sizesToSizeTuples(sizeObj).map(sizeTupleToSizeString);\n}\n\nexport function sizeTupleToSizeString(size) {\n  return size[0] + 'x' + size[1]\n}\n\n// Parse a GPT style single size array, (i.e [300, 250])\n// into an AppNexus style string, (i.e. 300x250)\nexport function parseGPTSingleSizeArray(singleSize) {\n  if (isValidGPTSingleSize(singleSize)) {\n    return sizeTupleToSizeString(singleSize);\n  }\n}\n\nexport function sizeTupleToRtbSize(size) {\n  return {w: size[0], h: size[1]};\n}\n\n// Parse a GPT style single size array, (i.e [300, 250])\n// into OpenRTB-compatible (imp.banner.w/h, imp.banner.format.w/h, imp.video.w/h) object(i.e. {w:300, h:250})\nexport function parseGPTSingleSizeArrayToRtbSize(singleSize) {\n  if (isValidGPTSingleSize(singleSize)) {\n    return sizeTupleToRtbSize(singleSize)\n  }\n}\n\nfunction isValidGPTSingleSize(singleSize) {\n  // if we aren't exactly 2 items in this array, it is invalid\n  return isArray(singleSize) && singleSize.length === 2 && (!isNaN(singleSize[0]) && !isNaN(singleSize[1]));\n}\n\nexport function getWindowTop() {\n  return window.top;\n}\n\nexport function getWindowSelf() {\n  return window.self;\n}\n\nexport function getWindowLocation() {\n  return window.location;\n}\n\nexport function canAccessWindowTop() {\n  try {\n    if (internal.getWindowTop().location.href) {\n      return true;\n    }\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Wrappers to console.(log | info | warn | error). Takes N arguments, the same as the native methods\n */\nexport function logMessage() {\n  if (debugTurnedOn() && consoleLogExists) {\n    // eslint-disable-next-line no-console\n    console.log.apply(console, decorateLog(arguments, 'MESSAGE:'));\n  }\n}\n\nexport function logInfo() {\n  if (debugTurnedOn() && consoleInfoExists) {\n    // eslint-disable-next-line no-console\n    console.info.apply(console, decorateLog(arguments, 'INFO:'));\n  }\n}\n\nexport function logWarn() {\n  if (debugTurnedOn() && consoleWarnExists) {\n    // eslint-disable-next-line no-console\n    console.warn.apply(console, decorateLog(arguments, 'WARNING:'));\n  }\n  emitEvent(EVENTS.AUCTION_DEBUG, { type: 'WARNING', arguments: arguments });\n}\n\nexport function logError() {\n  if (debugTurnedOn() && consoleErrorExists) {\n    // eslint-disable-next-line no-console\n    console.error.apply(console, decorateLog(arguments, 'ERROR:'));\n  }\n  emitEvent(EVENTS.AUCTION_DEBUG, { type: 'ERROR', arguments: arguments });\n}\n\nexport function prefixLog(prefix) {\n  function decorate(fn) {\n    return function (...args) {\n      fn(prefix, ...args);\n    }\n  }\n  return {\n    logError: decorate(logError),\n    logWarn: decorate(logWarn),\n    logMessage: decorate(logMessage),\n    logInfo: decorate(logInfo),\n  }\n}\n\nfunction decorateLog(args, prefix) {\n  args = [].slice.call(args);\n  let bidder = config.getCurrentBidder();\n\n  prefix && args.unshift(prefix);\n  if (bidder) {\n    args.unshift(label('#aaa'));\n  }\n  args.unshift(label('#3b88c3'));\n  args.unshift('%cPrebid' + (bidder ? `%c${bidder}` : ''));\n  return args;\n\n  function label(color) {\n    return `display: inline-block; color: #fff; background: ${color}; padding: 1px 4px; border-radius: 3px;`\n  }\n}\n\nexport function hasConsoleLogger() {\n  return consoleLogExists;\n}\n\nexport function debugTurnedOn() {\n  return !!config.getConfig('debug');\n}\n\nexport const createIframe = (() => {\n  const DEFAULTS = {\n    border: '0px',\n    hspace: '0',\n    vspace: '0',\n    marginWidth: '0',\n    marginHeight: '0',\n    scrolling: 'no',\n    frameBorder: '0',\n    allowtransparency: 'true'\n  }\n  return (doc, attrs, style = {}) => {\n    const f = doc.createElement('iframe');\n    Object.assign(f, Object.assign({}, DEFAULTS, attrs));\n    Object.assign(f.style, style);\n    return f;\n  }\n})();\n\nexport function createInvisibleIframe() {\n  return createIframe(document, {\n    id: getUniqueIdentifierStr(),\n    width: 0,\n    height: 0,\n    src: 'about:blank'\n  }, {\n    display: 'none',\n    height: '0px',\n    width: '0px',\n    border: '0px'\n  });\n}\n\n/*\n *   Check if a given parameter name exists in query string\n *   and if it does return the value\n */\nexport function getParameterByName(name) {\n  return parseQS(getWindowLocation().search)[name] || '';\n}\n\n/**\n * Return if the object is of the\n * given type.\n * @param {*} object to test\n * @param {String} _t type string (e.g., Array)\n * @return {Boolean} if object is of type _t\n */\nexport function isA(object, _t) {\n  return toString.call(object) === '[object ' + _t + ']';\n}\n\nexport function isFn(object) {\n  return isA(object, tFn);\n}\n\nexport function isStr(object) {\n  return isA(object, tStr);\n}\n\nexport const isArray = Array.isArray.bind(Array);\n\nexport function isNumber(object) {\n  return isA(object, tNumb);\n}\n\nexport function isPlainObject(object) {\n  return isA(object, tObject);\n}\n\nexport function isBoolean(object) {\n  return isA(object, tBoolean);\n}\n\n/**\n * Return if the object is \"empty\";\n * this includes falsey, no keys, or no items at indices\n * @param {*} object object to test\n * @return {Boolean} if object is empty\n */\nexport function isEmpty(object) {\n  if (!object) return true;\n  if (isArray(object) || isStr(object)) {\n    return !(object.length > 0);\n  }\n  return Object.keys(object).length <= 0;\n}\n\n/**\n * Return if string is empty, null, or undefined\n * @param str string to test\n * @returns {boolean} if string is empty\n */\nexport function isEmptyStr(str) {\n  return isStr(str) && (!str || str.length === 0);\n}\n\n/**\n * Iterate object with the function\n * falls back to es5 `forEach`\n * @param {Array|Object} object\n * @param {Function} fn - The function to execute for each element. It receives three arguments: value, key, and the original object.\n * @returns {void}\n */\nexport function _each(object, fn) {\n  if (isFn(object?.forEach)) return object.forEach(fn, this);\n  Object.entries(object || {}).forEach(([k, v]) => fn.call(this, v, k));\n}\n\nexport function contains(a, obj) {\n  return isFn(a?.includes) && a.includes(obj);\n}\n\n/**\n * Map an array or object into another array\n * given a function\n * @param {Array|Object} object\n * @param {Function} callback - The function to execute for each element. It receives three arguments: value, key, and the original object.\n * @return {Array}\n */\nexport function _map(object, callback) {\n  if (isFn(object?.map)) return object.map(callback);\n  return Object.entries(object || {}).map(([k, v]) => callback(v, k, object))\n}\n\n/*\n* Inserts an element(elm) as targets child, by default as first child\n* @param {HTMLElement} elm\n* @param {HTMLElement} [doc]\n* @param {HTMLElement} [target]\n* @param {Boolean} [asLastChildChild]\n* @return {HTML Element}\n*/\nexport function insertElement(elm, doc, target, asLastChildChild) {\n  doc = doc || document;\n  let parentEl;\n  if (target) {\n    parentEl = doc.getElementsByTagName(target);\n  } else {\n    parentEl = doc.getElementsByTagName('head');\n  }\n  try {\n    parentEl = parentEl.length ? parentEl : doc.getElementsByTagName('body');\n    if (parentEl.length) {\n      parentEl = parentEl[0];\n      let insertBeforeEl = asLastChildChild ? null : parentEl.firstChild;\n      return parentEl.insertBefore(elm, insertBeforeEl);\n    }\n  } catch (e) {}\n}\n\n/**\n * Returns a promise that completes when the given element triggers a 'load' or 'error' DOM event, or when\n * `timeout` milliseconds have elapsed.\n *\n * @param {HTMLElement} element\n * @param {Number} [timeout]\n * @returns {Promise}\n */\nexport function waitForElementToLoad(element, timeout) {\n  let timer = null;\n  return new GreedyPromise((resolve) => {\n    const onLoad = function() {\n      element.removeEventListener('load', onLoad);\n      element.removeEventListener('error', onLoad);\n      if (timer != null) {\n        window.clearTimeout(timer);\n      }\n      resolve();\n    };\n    element.addEventListener('load', onLoad);\n    element.addEventListener('error', onLoad);\n    if (timeout != null) {\n      timer = window.setTimeout(onLoad, timeout);\n    }\n  });\n}\n\n/**\n * Inserts an image pixel with the specified `url` for cookie sync\n * @param {string} url URL string of the image pixel to load\n * @param  {function} [done] an optional exit callback, used when this usersync pixel is added during an async process\n * @param  {Number} [timeout] an optional timeout in milliseconds for the image to load before calling `done`\n */\nexport function triggerPixel(url, done, timeout) {\n  const img = new Image();\n  if (done && internal.isFn(done)) {\n    waitForElementToLoad(img, timeout).then(done);\n  }\n  img.src = url;\n}\n\n/**\n * Inserts an empty iframe with the specified `html`, primarily used for tracking purposes\n * (though could be for other purposes)\n * @param {string} htmlCode snippet of HTML code used for tracking purposes\n */\nexport function insertHtmlIntoIframe(htmlCode) {\n  if (!htmlCode) {\n    return;\n  }\n  const iframe = createInvisibleIframe();\n  internal.insertElement(iframe, document, 'body');\n\n  ((doc) => {\n    doc.open();\n    doc.write(htmlCode);\n    doc.close();\n  })(iframe.contentWindow.document);\n}\n\n/**\n * Inserts empty iframe with the specified `url` for cookie sync\n * @param  {string} url URL to be requested\n * @param  {function} [done] an optional exit callback, used when this usersync pixel is added during an async process\n * @param  {Number} [timeout] an optional timeout in milliseconds for the iframe to load before calling `done`\n */\nexport function insertUserSyncIframe(url, done, timeout) {\n  let iframeHtml = internal.createTrackPixelIframeHtml(url, false, 'allow-scripts allow-same-origin');\n  let div = document.createElement('div');\n  div.innerHTML = iframeHtml;\n  let iframe = div.firstChild;\n  if (done && internal.isFn(done)) {\n    waitForElementToLoad(iframe, timeout).then(done);\n  }\n  internal.insertElement(iframe, document, 'html', true);\n}\n\n/**\n * Creates a snippet of HTML that retrieves the specified `url`\n * @param  {string} url URL to be requested\n * @param encode\n * @return {string}     HTML snippet that contains the img src = set to `url`\n */\nexport function createTrackPixelHtml(url, encode = encodeURI) {\n  if (!url) {\n    return '';\n  }\n\n  let escapedUrl = encode(url);\n  let img = '<div style=\"position:absolute;left:0px;top:0px;visibility:hidden;\">';\n  img += '<img src=\"' + escapedUrl + '\"></div>';\n  return img;\n};\n\n/**\n * encodeURI, but preserves macros of the form '${MACRO}' (e.g. '${AUCTION_PRICE}')\n * @param url\n * @return {string}\n */\nexport function encodeMacroURI(url) {\n  const macros = Array.from(url.matchAll(/\\$({[^}]+})/g)).map(match => match[1]);\n  return macros.reduce((str, macro) => {\n    return str.replace('$' + encodeURIComponent(macro), '$' + macro)\n  }, encodeURI(url))\n}\n\n/**\n * Creates a snippet of Iframe HTML that retrieves the specified `url`\n * @param  {string} url plain URL to be requested\n * @param  {string} encodeUri boolean if URL should be encoded before inserted. Defaults to true\n * @param  {string} sandbox string if provided the sandbox attribute will be included with the given value\n * @return {string}     HTML snippet that contains the iframe src = set to `url`\n */\nexport function createTrackPixelIframeHtml(url, encodeUri = true, sandbox = '') {\n  if (!url) {\n    return '';\n  }\n  if (encodeUri) {\n    url = encodeURI(url);\n  }\n  if (sandbox) {\n    sandbox = `sandbox=\"${sandbox}\"`;\n  }\n\n  return `<iframe ${sandbox} id=\"${getUniqueIdentifierStr()}\"\n      frameborder=\"0\"\n      allowtransparency=\"true\"\n      marginheight=\"0\" marginwidth=\"0\"\n      width=\"0\" hspace=\"0\" vspace=\"0\" height=\"0\"\n      style=\"height:0px;width:0px;display:none;\"\n      scrolling=\"no\"\n      src=\"${url}\">\n    </iframe>`;\n}\n\nexport function uniques(value, index, arry) {\n  return arry.indexOf(value) === index;\n}\n\nexport function flatten(a, b) {\n  return a.concat(b);\n}\n\nexport function getBidRequest(id, bidderRequests) {\n  if (!id) {\n    return;\n  }\n  return bidderRequests.flatMap(br => br.bids)\n    .find(bid => ['bidId', 'adId', 'bid_id'].some(prop => bid[prop] === id))\n}\n\nexport function getValue(obj, key) {\n  return obj[key];\n}\n\nexport function getBidderCodes(adUnits = pbjsInstance.adUnits) {\n  // this could memoize adUnits\n  return adUnits.map(unit => unit.bids.map(bid => bid.bidder)\n    .reduce(flatten, [])).reduce(flatten, []).filter((bidder) => typeof bidder !== 'undefined').filter(uniques);\n}\n\nexport function isGptPubadsDefined() {\n  if (window.googletag && isFn(window.googletag.pubads) && isFn(window.googletag.pubads().getSlots)) {\n    return true;\n  }\n}\n\nexport function isApnGetTagDefined() {\n  if (window.apntag && isFn(window.apntag.getTag)) {\n    return true;\n  }\n}\n\nexport const sortByHighestCpm = (a, b) => {\n  return b.cpm - a.cpm;\n}\n\n/**\n * FisherYates shuffle\n * http://stackoverflow.com/a/6274398\n * https://bost.ocks.org/mike/shuffle/\n * istanbul ignore next\n */\nexport function shuffle(array) {\n  let counter = array.length;\n\n  // while there are elements in the array\n  while (counter > 0) {\n    // pick a random index\n    let index = Math.floor(Math.random() * counter);\n\n    // decrease counter by 1\n    counter--;\n\n    // and swap the last element with it\n    let temp = array[counter];\n    array[counter] = array[index];\n    array[index] = temp;\n  }\n\n  return array;\n}\n\nexport function deepClone(obj) {\n  return klona(obj) || {};\n}\n\nexport function inIframe() {\n  try {\n    return internal.getWindowSelf() !== internal.getWindowTop();\n  } catch (e) {\n    return true;\n  }\n}\n\n/**\n * https://iabtechlab.com/wp-content/uploads/2016/03/SafeFrames_v1.1_final.pdf\n */\nexport function isSafeFrameWindow() {\n  if (!inIframe()) {\n    return false;\n  }\n\n  const ws = internal.getWindowSelf();\n  return !!(ws.$sf && ws.$sf.ext);\n}\n\n/**\n * Returns the result of calling the function $sf.ext.geom() if it exists\n * @see https://iabtechlab.com/wp-content/uploads/2016/03/SafeFrames_v1.1_final.pdf  5.4 Function $sf.ext.geom\n * @returns {Object | undefined} geometric information about the container\n */\nexport function getSafeframeGeometry() {\n  try {\n    const ws = getWindowSelf();\n    return (typeof ws.$sf.ext.geom === 'function') ? ws.$sf.ext.geom() : undefined;\n  } catch (e) {\n    logError('Error getting SafeFrame geometry', e);\n    return undefined;\n  }\n}\n\nexport function isSafariBrowser() {\n  return /^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent);\n}\n\nexport function replaceMacros(str, subs) {\n  if (!str) return;\n  return Object.entries(subs).reduce((str, [key, val]) => {\n    return str.replace(new RegExp('\\\\$\\\\{' + key + '\\\\}', 'g'), val || '');\n  }, str);\n}\n\nexport function replaceAuctionPrice(str, cpm) {\n  return replaceMacros(str, {AUCTION_PRICE: cpm})\n}\n\nexport function replaceClickThrough(str, clicktag) {\n  if (!str || !clicktag || typeof clicktag !== 'string') return;\n  return str.replace(/\\${CLICKTHROUGH}/g, clicktag);\n}\n\nexport function timestamp() {\n  return new Date().getTime();\n}\n\n/**\n * The returned value represents the time elapsed since the time origin. @see https://developer.mozilla.org/en-US/docs/Web/API/Performance/now\n * @returns {number}\n */\nexport function getPerformanceNow() {\n  return (window.performance && window.performance.now && window.performance.now()) || 0;\n}\n\n/**\n * Retuns the difference between `timing.domLoading` and `timing.navigationStart`.\n * This function uses the deprecated `Performance.timing` API and should be removed in future.\n * It has not been updated yet because it is still used in some modules.\n * @deprecated\n * @param {Window} w The window object used to perform the api call. default to window.self\n * @returns {number}\n */\nexport function getDomLoadingDuration(w) {\n  let domLoadingDuration = -1;\n\n  w = w || getWindowSelf();\n\n  const performance = w.performance;\n\n  if (w.performance?.timing) {\n    if (w.performance.timing.navigationStart > 0) {\n      const val = performance.timing.domLoading - performance.timing.navigationStart;\n      if (val > 0) {\n        domLoadingDuration = val;\n      }\n    }\n  }\n\n  return domLoadingDuration;\n}\n\n/**\n * When the deviceAccess flag config option is false, no cookies should be read or set\n * @returns {boolean}\n */\nexport function hasDeviceAccess() {\n  return config.getConfig('deviceAccess') !== false;\n}\n\n/**\n * @returns {(boolean|undefined)}\n */\nexport function checkCookieSupport() {\n  // eslint-disable-next-line prebid/no-member\n  if (window.navigator.cookieEnabled || !!document.cookie.length) {\n    return true;\n  }\n}\n\n/**\n * Given a function, return a function which only executes the original after\n * it's been called numRequiredCalls times.\n *\n * Note that the arguments from the previous calls will *not* be forwarded to the original function.\n * Only the final call's arguments matter.\n *\n * @param {function} func The function which should be executed, once the returned function has been executed\n *   numRequiredCalls times.\n * @param {number} numRequiredCalls The number of times which the returned function needs to be called before\n *   func is.\n */\nexport function delayExecution(func, numRequiredCalls) {\n  if (numRequiredCalls < 1) {\n    throw new Error(`numRequiredCalls must be a positive number. Got ${numRequiredCalls}`);\n  }\n  let numCalls = 0;\n  return function () {\n    numCalls++;\n    if (numCalls === numRequiredCalls) {\n      func.apply(this, arguments);\n    }\n  }\n}\n\n/**\n * https://stackoverflow.com/a/34890276/428704\n * @param {Array} xs\n * @param {string} key\n * @returns {Object} {${key_value}: ${groupByArray}, key_value: {groupByArray}}\n */\nexport function groupBy(xs, key) {\n  return xs.reduce(function(rv, x) {\n    (rv[x[key]] = rv[x[key]] || []).push(x);\n    return rv;\n  }, {});\n}\n\n/**\n * Build an object consisting of only defined parameters to avoid creating an\n * object with defined keys and undefined values.\n * @param {Object} object The object to pick defined params out of\n * @param {string[]} params An array of strings representing properties to look for in the object\n * @returns {Object} An object containing all the specified values that are defined\n */\nexport function getDefinedParams(object, params) {\n  return params\n    .filter(param => object[param])\n    .reduce((bid, param) => Object.assign(bid, { [param]: object[param] }), {});\n}\n\n/**\n * @typedef {Object} MediaTypes\n * @property {Object} banner banner configuration\n * @property {Object} native native configuration\n * @property {Object} video video configuration\n */\n\n/**\n * Validates an adunit's `mediaTypes` parameter\n * @param {MediaTypes} mediaTypes mediaTypes parameter to validate\n * @return {boolean} If object is valid\n */\nexport function isValidMediaTypes(mediaTypes) {\n  const SUPPORTED_MEDIA_TYPES = ['banner', 'native', 'video'];\n  const SUPPORTED_STREAM_TYPES = ['instream', 'outstream', 'adpod'];\n\n  const types = Object.keys(mediaTypes);\n\n  if (!types.every(type => includes(SUPPORTED_MEDIA_TYPES, type))) {\n    return false;\n  }\n\n  if (FEATURES.VIDEO && mediaTypes.video && mediaTypes.video.context) {\n    return includes(SUPPORTED_STREAM_TYPES, mediaTypes.video.context);\n  }\n\n  return true;\n}\n\n/**\n * Returns user configured bidder params from adunit\n * @param {Object} adUnits\n * @param {string} adUnitCode code\n * @param {string} bidder code\n * @return {Array} user configured param for the given bidder adunit configuration\n */\nexport function getUserConfiguredParams(adUnits, adUnitCode, bidder) {\n  return adUnits\n    .filter(adUnit => adUnit.code === adUnitCode)\n    .flatMap((adUnit) => adUnit.bids)\n    .filter((bidderData) => bidderData.bidder === bidder)\n    .map((bidderData) => bidderData.params || {});\n}\n\n/**\n * Returns Do Not Track state\n */\nexport function getDNT() {\n  return navigator.doNotTrack === '1' || window.doNotTrack === '1' || navigator.msDoNotTrack === '1' || navigator.doNotTrack === 'yes';\n}\n\nexport const compareCodeAndSlot = (slot, adUnitCode) => slot.getAdUnitPath() === adUnitCode || slot.getSlotElementId() === adUnitCode;\n\n/**\n * Returns filter function to match adUnitCode in slot\n * @param {Object} slot GoogleTag slot\n * @return {function} filter function\n */\nexport function isAdUnitCodeMatchingSlot(slot) {\n  return (adUnitCode) => compareCodeAndSlot(slot, adUnitCode);\n}\n\n/**\n * Constructs warning message for when unsupported bidders are dropped from an adunit\n * @param {Object} adUnit ad unit from which the bidder is being dropped\n * @param {string} bidder bidder code that is not compatible with the adUnit\n * @return {string} warning message to display when condition is met\n */\nexport function unsupportedBidderMessage(adUnit, bidder) {\n  const mediaType = Object.keys(adUnit.mediaTypes || {'banner': 'banner'}).join(', ');\n\n  return `\n    ${adUnit.code} is a ${mediaType} ad unit\n    containing bidders that don't support ${mediaType}: ${bidder}.\n    This bidder won't fetch demand.\n  `;\n}\n\n/**\n * Checks input is integer or not\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n * @param {*} value\n */\nexport const isInteger = Number.isInteger.bind(Number);\n\n/**\n * Returns a new object with undefined properties removed from given object\n * @param obj the object to clean\n */\nexport function cleanObj(obj) {\n  return Object.fromEntries(Object.entries(obj).filter(([_, v]) => typeof v !== 'undefined'))\n}\n\n/**\n * Create a new object with selected properties.  Also allows property renaming and transform functions.\n * @param obj the original object\n * @param properties An array of desired properties\n */\nexport function pick(obj, properties) {\n  if (typeof obj !== 'object') {\n    return {};\n  }\n  return properties.reduce((newObj, prop, i) => {\n    if (typeof prop === 'function') {\n      return newObj;\n    }\n\n    let newProp = prop;\n    let match = prop.match(/^(.+?)\\sas\\s(.+?)$/i);\n\n    if (match) {\n      prop = match[1];\n      newProp = match[2];\n    }\n\n    let value = obj[prop];\n    if (typeof properties[i + 1] === 'function') {\n      value = properties[i + 1](value, newObj);\n    }\n    if (typeof value !== 'undefined') {\n      newObj[newProp] = value;\n    }\n\n    return newObj;\n  }, {});\n}\n\nexport function isArrayOfNums(val, size) {\n  return (isArray(val)) && ((size) ? val.length === size : true) && (val.every(v => isInteger(v)));\n}\n\nexport function parseQS(query) {\n  return !query ? {} : query\n    .replace(/^\\?/, '')\n    .split('&')\n    .reduce((acc, criteria) => {\n      let [k, v] = criteria.split('=');\n      if (/\\[\\]$/.test(k)) {\n        k = k.replace('[]', '');\n        acc[k] = acc[k] || [];\n        acc[k].push(v);\n      } else {\n        acc[k] = v || '';\n      }\n      return acc;\n    }, {});\n}\n\nexport function formatQS(query) {\n  return Object\n    .keys(query)\n    .map(k => Array.isArray(query[k])\n      ? query[k].map(v => `${k}[]=${v}`).join('&')\n      : `${k}=${query[k]}`)\n    .join('&');\n}\n\nexport function parseUrl(url, options) {\n  let parsed = document.createElement('a');\n  if (options && 'noDecodeWholeURL' in options && options.noDecodeWholeURL) {\n    parsed.href = url;\n  } else {\n    parsed.href = decodeURIComponent(url);\n  }\n  // in window.location 'search' is string, not object\n  let qsAsString = (options && 'decodeSearchAsString' in options && options.decodeSearchAsString);\n  return {\n    href: parsed.href,\n    protocol: (parsed.protocol || '').replace(/:$/, ''),\n    hostname: parsed.hostname,\n    port: +parsed.port,\n    pathname: parsed.pathname.replace(/^(?!\\/)/, '/'),\n    search: (qsAsString) ? parsed.search : internal.parseQS(parsed.search || ''),\n    hash: (parsed.hash || '').replace(/^#/, ''),\n    host: parsed.host || window.location.host\n  };\n}\n\nexport function buildUrl(obj) {\n  return (obj.protocol || 'http') + '://' +\n    (obj.host ||\n      obj.hostname + (obj.port ? `:${obj.port}` : '')) +\n    (obj.pathname || '') +\n    (obj.search ? `?${internal.formatQS(obj.search || '')}` : '') +\n    (obj.hash ? `#${obj.hash}` : '');\n}\n\n/**\n * This function deeply compares two objects checking for their equivalence.\n * @param {Object} obj1\n * @param {Object} obj2\n * @param {Object} [options] - Options for comparison.\n * @param {boolean} [options.checkTypes=false] - If set, two objects with identical properties but different constructors will *not* be considered equivalent.\n * @returns {boolean} - Returns `true` if the objects are equivalent, `false` otherwise.\n */\nexport function deepEqual(obj1, obj2, {checkTypes = false} = {}) {\n  if (obj1 === obj2) return true;\n  else if (\n    (typeof obj1 === 'object' && obj1 !== null) &&\n    (typeof obj2 === 'object' && obj2 !== null) &&\n    (!checkTypes || (obj1.constructor === obj2.constructor))\n  ) {\n    const props1 = Object.keys(obj1);\n    if (props1.length !== Object.keys(obj2).length) return false;\n    for (let prop of props1) {\n      if (obj2.hasOwnProperty(prop)) {\n        if (!deepEqual(obj1[prop], obj2[prop], {checkTypes})) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport function mergeDeep(target, ...sources) {\n  if (!sources.length) return target;\n  const source = sources.shift();\n\n  if (isPlainObject(target) && isPlainObject(source)) {\n    for (const key in source) {\n      if (isPlainObject(source[key])) {\n        if (!target[key]) Object.assign(target, { [key]: {} });\n        mergeDeep(target[key], source[key]);\n      } else if (isArray(source[key])) {\n        if (!target[key]) {\n          Object.assign(target, { [key]: [...source[key]] });\n        } else if (isArray(target[key])) {\n          source[key].forEach(obj => {\n            let addItFlag = 1;\n            for (let i = 0; i < target[key].length; i++) {\n              if (deepEqual(target[key][i], obj)) {\n                addItFlag = 0;\n                break;\n              }\n            }\n            if (addItFlag) {\n              target[key].push(obj);\n            }\n          });\n        }\n      } else {\n        Object.assign(target, { [key]: source[key] });\n      }\n    }\n  }\n\n  return mergeDeep(target, ...sources);\n}\n\n/**\n * returns a hash of a string using a fast algorithm\n * source: https://stackoverflow.com/a/52171480/845390\n * @param str\n * @param seed (optional)\n * @returns {string}\n */\nexport function cyrb53Hash(str, seed = 0) {\n  // IE doesn't support imul\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/imul#Polyfill\n  let imul = function(opA, opB) {\n    if (isFn(Math.imul)) {\n      return Math.imul(opA, opB);\n    } else {\n      opB |= 0; // ensure that opB is an integer. opA will automatically be coerced.\n      // floating points give us 53 bits of precision to work with plus 1 sign bit\n      // automatically handled for our convienence:\n      // 1. 0x003fffff /*opA & 0x000fffff*/ * 0x7fffffff /*opB*/ = 0x1fffff7fc00001\n      //    0x1fffff7fc00001 < Number.MAX_SAFE_INTEGER /*0x1fffffffffffff*/\n      var result = (opA & 0x003fffff) * opB;\n      // 2. We can remove an integer coersion from the statement above because:\n      //    0x1fffff7fc00001 + 0xffc00000 = 0x1fffffff800001\n      //    0x1fffffff800001 < Number.MAX_SAFE_INTEGER /*0x1fffffffffffff*/\n      if (opA & 0xffc00000) result += (opA & 0xffc00000) * opB | 0;\n      return result | 0;\n    }\n  };\n\n  let h1 = 0xdeadbeef ^ seed;\n  let h2 = 0x41c6ce57 ^ seed;\n  for (let i = 0, ch; i < str.length; i++) {\n    ch = str.charCodeAt(i);\n    h1 = imul(h1 ^ ch, 2654435761);\n    h2 = imul(h2 ^ ch, 1597334677);\n  }\n  h1 = imul(h1 ^ (h1 >>> 16), 2246822507) ^ imul(h2 ^ (h2 >>> 13), 3266489909);\n  h2 = imul(h2 ^ (h2 >>> 16), 2246822507) ^ imul(h1 ^ (h1 >>> 13), 3266489909);\n  return (4294967296 * (2097151 & h2) + (h1 >>> 0)).toString();\n}\n\n/**\n * returns the result of `JSON.parse(data)`, or undefined if that throws an error.\n * @param data\n * @returns {any}\n */\nexport function safeJSONParse(data) {\n  try {\n    return JSON.parse(data);\n  } catch (e) {}\n}\n\nexport function safeJSONEncode(data) {\n  try {\n    return JSON.stringify(data);\n  } catch (e) {\n    return '';\n  }\n}\n\n/**\n * Returns a memoized version of `fn`.\n *\n * @param fn\n * @param key cache key generator, invoked with the same arguments passed to `fn`.\n *        By default, the first argument is used as key.\n * @return {function(): any}\n */\nexport function memoize(fn, key = function (arg) { return arg; }) {\n  const cache = new Map();\n  const memoized = function () {\n    const cacheKey = key.apply(this, arguments);\n    if (!cache.has(cacheKey)) {\n      cache.set(cacheKey, fn.apply(this, arguments));\n    }\n    return cache.get(cacheKey);\n  }\n  memoized.clear = cache.clear.bind(cache);\n  return memoized;\n}\n\n/**\n * Returns a Unix timestamp for given time value and unit.\n * @param {number} timeValue numeric value, defaults to 0 (which means now)\n * @param {string} timeUnit defaults to days (or 'd'), use 'm' for minutes. Any parameter that isn't 'd' or 'm' will return Date.now().\n * @returns {number}\n */\nexport function getUnixTimestampFromNow(timeValue = 0, timeUnit = 'd') {\n  const acceptableUnits = ['m', 'd'];\n  if (acceptableUnits.indexOf(timeUnit) < 0) {\n    return Date.now();\n  }\n  const multiplication = timeValue / (timeUnit === 'm' ? 1440 : 1);\n  return Date.now() + (timeValue && timeValue > 0 ? (1000 * 60 * 60 * 24 * multiplication) : 0);\n}\n\n/**\n * Converts given object into an array, so {key: 1, anotherKey: 'fred', third: ['fred']} is turned\n * into [{key: 1}, {anotherKey: 'fred'}, {third: ['fred']}]\n * @param {Object} obj the object\n * @returns {Array}\n */\nexport function convertObjectToArray(obj) {\n  return Object.keys(obj).map(key => {\n    return {[key]: obj[key]};\n  });\n}\n\n/**\n * Sets dataset attributes on a script\n * @param {HTMLScriptElement} script\n * @param {object} attributes\n */\nexport function setScriptAttributes(script, attributes) {\n  Object.entries(attributes).forEach(([k, v]) => script.setAttribute(k, v))\n}\n\n/**\n * Perform a binary search for `el` on an ordered array `arr`.\n *\n * @returns the lowest nonnegative integer I that satisfies:\n *   key(arr[i]) >= key(el) for each i between I and arr.length\n *\n *   (if one or more matches are found for `el`, returns the index of the first;\n *   if the element is not found, return the index of the first element that's greater;\n *   if no greater element exists, return `arr.length`)\n */\nexport function binarySearch(arr, el, key = (el) => el) {\n  let left = 0;\n  let right = arr.length && arr.length - 1;\n  const target = key(el);\n  while (right - left > 1) {\n    const middle = left + Math.round((right - left) / 2);\n    if (target > key(arr[middle])) {\n      left = middle;\n    } else {\n      right = middle;\n    }\n  }\n  while (arr.length > left && target > key(arr[left])) {\n    left++;\n  }\n  return left;\n}\n\n/**\n * Checks if an object has non-serializable properties.\n * Non-serializable properties are functions and RegExp objects.\n *\n * @param {Object} obj - The object to check.\n * @param {Set} checkedObjects - A set of properties that have already been checked.\n * @returns {boolean} - Returns true if the object has non-serializable properties, false otherwise.\n */\nexport function hasNonSerializableProperty(obj, checkedObjects = new Set()) {\n  for (const key in obj) {\n    const value = obj[key];\n    const type = typeof value;\n\n    if (\n      value === undefined ||\n      type === 'function' ||\n      type === 'symbol' ||\n      value instanceof RegExp ||\n      value instanceof Map ||\n      value instanceof Set ||\n      value instanceof Date ||\n      (value !== null && type === 'object' && value.hasOwnProperty('toJSON'))\n    ) {\n      return true;\n    }\n    if (value !== null && type === 'object' && value.constructor === Object) {\n      if (checkedObjects.has(value)) {\n        // circular reference, means we have a non-serializable property\n        return true;\n      }\n      checkedObjects.add(value);\n      if (hasNonSerializableProperty(value, checkedObjects)) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n/**\n * Returns the value of a nested property in an array of objects.\n *\n * @param {Array} collection - Array of objects.\n * @param {String} key - Key of nested property.\n * @returns {any, undefined} - Value of nested property.\n */\nexport function setOnAny(collection, key) {\n  for (let i = 0, result; i < collection.length; i++) {\n    result = deepAccess(collection[i], key);\n    if (result) {\n      return result;\n    }\n  }\n  return undefined;\n}\n\nexport function extractDomainFromHost(pageHost) {\n  let domain = null;\n  try {\n    let domains = /[-\\w]+\\.([-\\w]+|[-\\w]{3,}|[-\\w]{1,3}\\.[-\\w]{2})$/i.exec(pageHost);\n    if (domains != null && domains.length > 0) {\n      domain = domains[0];\n      for (let i = 1; i < domains.length; i++) {\n        if (domains[i].length > domain.length) {\n          domain = domains[i];\n        }\n      }\n    }\n  } catch (e) {\n    domain = null;\n  }\n  return domain;\n}\n\nexport function triggerNurlWithCpm(bid, cpm) {\n  if (isStr(bid.nurl) && bid.nurl !== '') {\n    bid.nurl = bid.nurl.replace(\n      /\\${AUCTION_PRICE}/,\n      cpm\n    );\n    triggerPixel(bid.nurl);\n  }\n}\n","const SUCCESS = 0;\nconst FAIL = 1;\n\n/**\n * A version of Promise that runs callbacks synchronously when it can (i.e. after it's been fulfilled or rejected).\n */\nexport class GreedyPromise {\n  #result;\n  #callbacks;\n\n  /**\n   * Convenience wrapper for setTimeout; takes care of returning an already fulfilled GreedyPromise when the delay is zero.\n   *\n   * @param {Number} delayMs delay in milliseconds\n   * @returns {GreedyPromise} a promise that resolves (to undefined) in `delayMs` milliseconds\n   */\n  static timeout(delayMs = 0) {\n    return new GreedyPromise((resolve) => {\n      delayMs === 0 ? resolve() : setTimeout(resolve, delayMs);\n    });\n  }\n\n  constructor(resolver) {\n    if (typeof resolver !== 'function') {\n      throw new Error('resolver not a function');\n    }\n    const result = [];\n    const callbacks = [];\n    let [resolve, reject] = [SUCCESS, FAIL].map((type) => {\n      return function (value) {\n        if (type === SUCCESS && typeof value?.then === 'function') {\n          value.then(resolve, reject);\n        } else if (!result.length) {\n          result.push(type, value);\n          while (callbacks.length) callbacks.shift()();\n        }\n      }\n    });\n    try {\n      resolver(resolve, reject);\n    } catch (e) {\n      reject(e);\n    }\n    this.#result = result;\n    this.#callbacks = callbacks;\n  }\n\n  then(onSuccess, onError) {\n    const result = this.#result;\n    return new this.constructor((resolve, reject) => {\n      const continuation = () => {\n        let value = result[1];\n        let [handler, resolveFn] = result[0] === SUCCESS ? [onSuccess, resolve] : [onError, reject];\n        if (typeof handler === 'function') {\n          try {\n            value = handler(value);\n          } catch (e) {\n            reject(e);\n            return;\n          }\n          resolveFn = resolve;\n        }\n        resolveFn(value);\n      }\n      result.length ? continuation() : this.#callbacks.push(continuation);\n    });\n  }\n\n  catch(onError) {\n    return this.then(null, onError);\n  }\n\n  finally(onFinally) {\n    let val;\n    return this.then(\n      (v) => { val = v; return onFinally(); },\n      (e) => { val = this.constructor.reject(e); return onFinally() }\n    ).then(() => val);\n  }\n\n  static #collect(promises, collector, done) {\n    let cnt = promises.length;\n    function clt() {\n      collector.apply(this, arguments);\n      if (--cnt <= 0 && done) done();\n    }\n    promises.length === 0 && done ? done() : promises.forEach((p, i) => this.resolve(p).then(\n      (val) => clt(true, val, i),\n      (err) => clt(false, err, i)\n    ));\n  }\n\n  static race(promises) {\n    return new this((resolve, reject) => {\n      this.#collect(promises, (success, result) => success ? resolve(result) : reject(result));\n    })\n  }\n\n  static all(promises) {\n    return new this((resolve, reject) => {\n      let res = [];\n      this.#collect(promises, (success, val, i) => success ? res[i] = val : reject(val), () => resolve(res));\n    })\n  }\n\n  static allSettled(promises) {\n    return new this((resolve) => {\n      let res = [];\n      this.#collect(promises, (success, val, i) => res[i] = success ? {status: 'fulfilled', value: val} : {status: 'rejected', reason: val}, () => resolve(res))\n    })\n  }\n\n  static resolve(value) {\n    return new this(resolve => resolve(value))\n  }\n\n  static reject(error) {\n    return new this((resolve, reject) => reject(error))\n  }\n}\n\n/**\n * @returns a {promise, resolve, reject} trio where `promise` is resolved by calling `resolve` or `reject`.\n */\nexport function defer({promiseFactory = (resolver) => new GreedyPromise(resolver)} = {}) {\n  function invoker(delegate) {\n    return (val) => delegate(val);\n  }\n\n  let resolveFn, rejectFn;\n\n  return {\n    promise: promiseFactory((resolve, reject) => {\n      resolveFn = resolve;\n      rejectFn = reject;\n    }),\n    resolve: invoker(resolveFn),\n    reject: invoker(rejectFn)\n  }\n}\n","export default function dlv(obj, key, def, p, undef) {\n\tkey = key.split ? key.split('.') : key;\n\tfor (p = 0; p < key.length; p++) {\n\t\tobj = obj ? obj[key[p]] : undef;\n\t}\n\treturn obj === undef ? def : obj;\n}\n","export function dset(obj, keys, val) {\n\tkeys.split && (keys=keys.split('.'));\n\tvar i=0, l=keys.length, t=obj, x, k;\n\twhile (i < l) {\n\t\tk = ''+keys[i++];\n\t\tif (k === '__proto__' || k === 'constructor' || k === 'prototype') break;\n\t\tt = t[k] = (i === l) ? val : (typeof(x=t[k])===typeof(keys)) ? x : (keys[i]*0 !== 0 || !!~(''+keys[i]).indexOf('.')) ? {} : [];\n\t}\n}\n","export function klona(val) {\n\tvar k, out, tmp;\n\n\tif (Array.isArray(val)) {\n\t\tout = Array(k=val.length);\n\t\twhile (k--) out[k] = (tmp=val[k]) && typeof tmp === 'object' ? klona(tmp) : tmp;\n\t\treturn out;\n\t}\n\n\tif (Object.prototype.toString.call(val) === '[object Object]') {\n\t\tout = {}; // null\n\t\tfor (k in val) {\n\t\t\tif (k === '__proto__') {\n\t\t\t\tObject.defineProperty(out, k, {\n\t\t\t\t\tvalue: klona(val[k]),\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tout[k] = (tmp=val[k]) && typeof tmp === 'object' ? klona(tmp) : tmp;\n\t\t\t}\n\t\t}\n\t\treturn out;\n\t}\n\n\treturn val;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {install} from './debugging.js';\n\nwindow._pbjsGlobals.forEach((name) => {\n  if (window[name] && window[name]._installDebugging === true) {\n    window[name]._installDebugging = install;\n  }\n})\n"],"names":["deepAccess","deepClone","delayExecution","mergeDeep","hasNonSerializableProperty","BidInterceptor","opts","arguments","length","undefined","setTimeout","window","bind","logger","rules","Object","assign","prototype","DEFAULT_RULE_OPTIONS","delay","serializeConfig","ruleDefs","isSerializable","ruleDef","i","serializable","logWarn","filter","updateConfig","config","intercept","map","rule","ruleNo","no","match","matcher","when","replace","replacer","then","options","paapi","paapiReplacer","matchDef","logError","matches","candidate","_ref","ref","args","entries","_ref2","key","val","cVal","RegExp","exec","every","_len","Array","_key","replDef","_this","replFn","_ref3","_ref4","result","isArray","forEach","_ref5","bid","response","responseDefaults","_len2","_key2","hasOwnProperty","ad","defaultAd","isDebug","paapiDef","wrap","configs","keys","some","k","includes","requestId","bidId","cpm","currency","width","height","ttl","creativeId","netRevenue","meta","bidResponse","bidder","_len3","_key3","find","matchAll","bids","bidRequest","remainder","push","_ref6","addBid","addPaapiConfig","done","callDone","mockResponse","mockPaapi","logMessage","cfg","makePbsInterceptor","addHooks","removeHooks","interceptorHooks","bidInterceptor","enabled","enableDebugging","debugConfig","fromSession","hook","setConfig","debug","resetHooks","disableDebugging","saveDebuggingConfig","sessionStorage","DEBUG_KEY","removeItem","e","setItem","JSON","stringify","getConfig","debugging","getStorage","sessionLoader","storage","overrides","parse","getItem","enable","getHookFn","interceptor","getHooks","remove","before","registerBidInterceptor","interceptBids","next","bidderBidInterceptor","spec","ajax","wrapCallback","cbs","onCompletion","onBid","onPaapi","onResponse","install","createBid","pbsBidInterceptor","get","_ref7","init","addBidResponseBound","addBidderRequestsBound","addBidResponseHook","addBidderRequestsHook","bidExcluded","overrideObj","bidderCode","adUnitCode","bidderExcluded","bidders","indexOf","applyBidOverrides","bidObj","bidType","reduce","reject","overrideBid","bidderRequests","includedBidderRequests","bidderRequest","bidRequests","STATUS","s2sBidRequest","onError","onFledge","responseArgs","signalResponse","adUnit","GOOD","req","ortb2","ortb2Imp","bidIds","Set","add","ad_units","unit","has","bid_id","isValidPriceConfig","arrayFrom","from","getParameterByName","isBoolean","isPlainObject","isStr","DEBUG_MODE","DEFAULT_DEBUG","toUpperCase","DEFAULT_BIDDER_TIMEOUT","DEFAULT_ENABLE_SEND_ALL_BIDS","DEFAULT_DISABLE_AJAX_TIMEOUT","DEFAULT_BID_CACHE","DEFAULT_DEVICE_ACCESS","DEFAULT_MAX_NESTED_IFRAMES","DEFAULT_MAXBID_VALUE","DEFAULT_IFRAMES_CONFIG","RANDOM","FIXED","VALID_ORDERS","DEFAULT_BIDDER_SEQUENCE","GRANULARITY_OPTIONS","LOW","MEDIUM","HIGH","AUTO","DENSE","CUSTOM","ALL_TOPICS","attachProperties","useDefaultValues","values","priceGranularity","customPriceBucket","mediaTypePriceGranularity","bidderSequence","auctionOptions","getProp","name","setProp","defineProperty","enumerable","props","publisherDomain","set","validatePriceGranularity","hasGranularity","aggregate","item","validateauctionOptions","defineProperties","fromEntries","def","configurable","option","newConfig","listeners","defaults","bidderConfig","currBidder","resetConfig","bidderTimeout","enableSendAllBids","useBidCache","deviceAccess","disableAjaxTimeout","maxNestedIframes","maxBid","userSync","topics","callSubscribers","memo","topic","_getConfig","currBidderConfig","configTopicSet","concat","_getRestrictedConfig","conf","Error","getAnyConfig","accessor","subscribe","readConfig","readAnyConfig","wrapee","res","getBidderConfig","topicalConfig","setDefaults","listener","callback","nl","unsubscribe","splice","TOPICS","setBidderConfig","mergeFlag","check","currentConfig","func","obj","mergeConfig","mergedConfig","mergeBidderConfig","runWithBidder","fn","resetBidder","callbackWithBidder","cb","getCurrentBidder","JSON_MAPPING","PL_CODE","PL_SIZE","PL_BIDS","BD_BIDDER","BD_ID","BD_PL_ID","ADSERVER_TARGETING","BD_SETTING_STANDARD","EVENTS","AUCTION_INIT","AUCTION_TIMEOUT","AUCTION_END","BID_ADJUSTMENT","BID_TIMEOUT","BID_REQUESTED","BID_RESPONSE","BID_REJECTED","NO_BID","SEAT_NON_BID","BID_WON","BIDDER_DONE","BIDDER_ERROR","SET_TARGETING","BEFORE_REQUEST_BIDS","BEFORE_BIDDER_HTTP","REQUEST_BIDS","ADD_AD_UNITS","AD_RENDER_FAILED","AD_RENDER_SUCCEEDED","TCF2_ENFORCEMENT","AUCTION_DEBUG","BID_VIEWABLE","STALE_RENDER","EXPIRED_RENDER","BILLABLE_EVENT","BID_ACCEPTED","RUN_PAAPI_AUCTION","PBS_ANALYTICS","PAAPI_BID","PAAPI_NO_BID","PAAPI_ERROR","AD_RENDER_FAILED_REASON","PREVENT_WRITING_ON_MAIN_DOCUMENT","NO_AD","EXCEPTION","CANNOT_FIND_AD","MISSING_DOC_OR_ADID","EVENT_ID_PATHS","bidWon","TARGETING_KEYS","BIDDER","AD_ID","PRICE_BUCKET","SIZE","DEAL","SOURCE","FORMAT","UUID","CACHE_ID","CACHE_HOST","ADOMAIN","ACAT","CRID","DSP","DEFAULT_TARGETING_KEYS","NATIVE_KEYS","title","body","body2","privacyLink","privacyIcon","sponsoredBy","image","icon","clickUrl","displayUrl","cta","rating","address","downloads","likes","phone","price","salePrice","rendererUrl","adTemplate","S2S","SRC","DEFAULT_ENDPOINT","SYNCED_BIDDERS_KEY","BID_STATUS","BID_TARGETING_SET","RENDERED","REJECTION_REASON","INVALID","INVALID_REQUEST_ID","BIDDER_DISALLOWED","FLOOR_NOT_MET","CANNOT_CONVERT_CURRENCY","DSA_REQUIRED","DSA_MISMATCH","PRICE_TOO_HIGH","PREBID_NATIVE_DATA_KEYS_TO_ORTB","NATIVE_ASSET_TYPES","sponsored","desc","saleprice","desc2","displayurl","ctatext","NATIVE_IMAGE_TYPES","ICON","MAIN","NATIVE_KEYS_THAT_ARE_NOT_ASSETS","MESSAGES","REQUEST","RESPONSE","NATIVE","EVENT","PB_LOCATOR","isEmpty","_defaultPrecision","_lgPriceConfig","_mgPriceConfig","_hgPriceConfig","_densePriceConfig","_autoPriceConfig","getPriceBucketString","customConfig","granularityMultiplier","cpmFloat","parseFloat","isNaN","low","getCpmStringValue","med","high","auto","dense","custom","cpmStr","cap","buckets","prev","curr","max","bucketFloor","bucket","precision","toFixed","min","getCpmTarget","isValid","increment","bucketMin","roundingFunction","Math","floor","customRoundingFunction","pow","cpmToRound","cpmTarget","invalidRounding","err","Number","target","elem","start","apply","arr","pred","thisArg","findIndex","scope","true","global","pbjs","cmd","que","_pbjsGlobals","getGlobal","registerModule","installedModules","klona","GreedyPromise","default","dset","deepSetValue","tStr","tFn","tNumb","tObject","tBoolean","toString","consoleExists","Boolean","console","consoleLogExists","log","consoleInfoExists","info","consoleWarnExists","warn","consoleErrorExists","error","eventEmitter","pbjsInstance","_setEventEmitter","emitFn","emitEvent","internal","checkCookieSupport","createTrackPixelIframeHtml","getWindowSelf","getWindowTop","canAccessWindowTop","getWindowLocation","insertUserSyncIframe","insertElement","isFn","triggerPixel","logInfo","parseQS","formatQS","deepEqual","prebidInternal","getPrebidInternal","getIncrementalInteger","count","getUniqueIdentifierStr","random","substr","generateUUID","placeholder","_getRandomData","crypto","getRandomValues","Uint8Array","getBidIdParameter","paramsObj","parseQueryStringParameters","queryObj","encodeURIComponent","transformAdServerTargetingObj","targeting","getOwnPropertyNames","join","sizesToSizeTuples","sizes","split","sz","_","w","h","parseInt","isValidGPTSingleSize","parseSizesInput","sizeObj","sizeTupleToSizeString","size","parseGPTSingleSizeArray","singleSize","sizeTupleToRtbSize","parseGPTSingleSizeArrayToRtbSize","top","self","location","href","debugTurnedOn","decorateLog","type","prefixLog","prefix","decorate","slice","call","unshift","label","color","hasConsoleLogger","createIframe","DEFAULTS","border","hspace","vspace","marginWidth","marginHeight","scrolling","frameBorder","allowtransparency","doc","attrs","style","f","createElement","createInvisibleIframe","document","id","src","display","search","isA","object","_t","isNumber","isEmptyStr","str","_each","v","contains","a","_map","elm","asLastChildChild","parentEl","getElementsByTagName","insertBeforeEl","firstChild","insertBefore","waitForElementToLoad","element","timeout","timer","resolve","onLoad","removeEventListener","clearTimeout","addEventListener","url","img","Image","insertHtmlIntoIframe","htmlCode","iframe","open","write","close","contentWindow","iframeHtml","div","innerHTML","createTrackPixelHtml","encode","encodeURI","escapedUrl","encodeMacroURI","macros","macro","encodeUri","sandbox","uniques","value","index","arry","flatten","b","getBidRequest","flatMap","br","prop","getValue","getBidderCodes","adUnits","isGptPubadsDefined","googletag","pubads","getSlots","isApnGetTagDefined","apntag","getTag","sortByHighestCpm","shuffle","array","counter","temp","inIframe","isSafeFrameWindow","ws","$sf","ext","getSafeframeGeometry","geom","isSafariBrowser","test","navigator","userAgent","replaceMacros","subs","replaceAuctionPrice","AUCTION_PRICE","replaceClickThrough","clicktag","timestamp","Date","getTime","getPerformanceNow","performance","now","getDomLoadingDuration","domLoadingDuration","timing","navigationStart","domLoading","hasDeviceAccess","cookieEnabled","cookie","numRequiredCalls","numCalls","groupBy","xs","rv","x","getDefinedParams","params","param","isValidMediaTypes","mediaTypes","SUPPORTED_MEDIA_TYPES","SUPPORTED_STREAM_TYPES","types","video","context","getUserConfiguredParams","code","bidderData","getDNT","doNotTrack","msDoNotTrack","compareCodeAndSlot","slot","getAdUnitPath","getSlotElementId","isAdUnitCodeMatchingSlot","unsupportedBidderMessage","mediaType","isInteger","cleanObj","pick","properties","newObj","newProp","isArrayOfNums","query","acc","criteria","parseUrl","parsed","noDecodeWholeURL","decodeURIComponent","qsAsString","decodeSearchAsString","protocol","hostname","port","pathname","hash","host","buildUrl","obj1","obj2","checkTypes","constructor","props1","sources","source","shift","addItFlag","cyrb53Hash","seed","imul","opA","opB","h1","h2","ch","charCodeAt","safeJSONParse","data","safeJSONEncode","memoize","arg","cache","Map","memoized","cacheKey","clear","getUnixTimestampFromNow","timeValue","timeUnit","acceptableUnits","multiplication","convertObjectToArray","setScriptAttributes","script","attributes","setAttribute","binarySearch","el","left","right","middle","round","checkedObjects","setOnAny","collection","extractDomainFromHost","pageHost","domain","domains","triggerNurlWithCpm","nurl","SUCCESS","FAIL","callbacks","delayMs","resolver","onSuccess","continuation","handler","resolveFn","catch","finally","onFinally","collect","#collect","promises","collector","cnt","clt","p","race","success","all","allSettled","status","reason","defer","promiseFactory","invoker","delegate","rejectFn","promise","_installDebugging"],"sourceRoot":""}