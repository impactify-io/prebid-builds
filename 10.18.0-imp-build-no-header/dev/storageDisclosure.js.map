{"version":3,"file":"storageDisclosure.js","mappings":";;;;;;;;;;;;;;;;AAAA;AACA;;AAEO,SAASA,2BAA2BA,CAACC,WAAW,EAAEC,iBAAiB,EAAE;EAC1E,MAAMC,OAAO,GAAG,CAAC,CAAC;EAClBF,WAAW,CAACG,OAAO,CAACC,UAAU,IAAI;IAAA,IAAAC,kBAAA;IAChC,MAAMC,UAAU,IAAAD,kBAAA,GAAGJ,iBAAiB,CAACG,UAAU,CAAC,cAAAC,kBAAA,uBAA7BA,kBAAA,CAA+BE,WAAW;IAC7D,IAAI,CAACD,UAAU,EAAE;IACjBE,MAAM,CAACC,OAAO,CAACH,UAAU,CAAC,CAACH,OAAO,CAACO,IAAA,IAAuC;MAAA,IAAtC,CAACC,GAAG,EAAE;QAACJ,WAAW,EAAEK;MAAW,CAAC,CAAC,GAAAF,IAAA;MACnE,IAAIR,OAAO,CAACW,cAAc,CAACF,GAAG,CAAC,EAAE;QAC/BT,OAAO,CAACS,GAAG,CAAC,CAACR,OAAO,CAACW,KAAA;UAAA,IAAC;YAACC;UAAW,CAAC,GAAAD,KAAA;UAAA,OAAKC,WAAW,CAACC,IAAI,CAACZ,UAAU,CAAC;QAAA,EAAC;MACvE,CAAC,MAAM,IAAI,CAAAQ,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEK,MAAM,IAAG,CAAC,EAAE;QAClCf,OAAO,CAACS,GAAG,CAAC,GAAGC,WAAW,CAACM,GAAG,CAACC,UAAU,IAAAC,aAAA;UACvCC,WAAW,EAAEV,GAAG;UAChBI,WAAW,EAAE,CAACX,UAAU;QAAC,GACtBe,UAAU,CACb,CAAC;MACL;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAO,EAAE,CAACG,MAAM,CAAC,GAAGd,MAAM,CAACe,MAAM,CAACrB,OAAO,CAAC,CAAC;AAC7C","sources":["webpack:///../../libraries/storageDisclosure/summary.mjs"],"sourcesContent":["// NOTE: this file is used both by the build system and Prebid runtime; the former\n// needs the \".mjs\" extension, but precompilation transforms this into a \"normal\" .js\n\nexport function getStorageDisclosureSummary(moduleNames, getModuleMetadata) {\n  const summary = {};\n  moduleNames.forEach(moduleName => {\n    const disclosure = getModuleMetadata(moduleName)?.disclosures;\n    if (!disclosure) return;\n    Object.entries(disclosure).forEach(([url, {disclosures: identifiers}]) => {\n      if (summary.hasOwnProperty(url)) {\n        summary[url].forEach(({disclosedBy}) => disclosedBy.push(moduleName));\n      } else if (identifiers?.length > 0) {\n        summary[url] = identifiers.map(identifier => ({\n          disclosedIn: url,\n          disclosedBy: [moduleName],\n          ...identifier\n        }))\n      }\n    })\n  });\n  return [].concat(...Object.values(summary));\n}\n"],"names":["getStorageDisclosureSummary","moduleNames","getModuleMetadata","summary","forEach","moduleName","_getModuleMetadata","disclosure","disclosures","Object","entries","_ref","url","identifiers","hasOwnProperty","_ref2","disclosedBy","push","length","map","identifier","_objectSpread","disclosedIn","concat","values"],"sourceRoot":""}