{"version":3,"file":"impactifyBidAdapter.js","mappings":"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","sources":["webpack:///../../modules/impactifyBidAdapter.js"],"sourcesContent":["'use strict';\n\nimport { ortbConverter } from '../libraries/ortbConverter/converter.js'; // adjust path if needed\nimport { deepSetValue } from '../src/utils.js';\nimport { registerBidder } from '../src/adapters/bidderFactory.js';\nimport { ajax } from '../src/ajax.js';\nimport { getStorageManager } from '../src/storageManager.js';\n\n/**\n * @typedef {import('../src/adapters/bidderFactory.js').BidRequest} BidRequest\n * @typedef {import('../src/adapters/bidderFactory.js').Bid} Bid\n * @typedef {import('../src/adapters/bidderFactory.js').ServerResponse} ServerResponse\n * @typedef {import('../src/adapters/bidderFactory.js').SyncOptions} SyncOptions\n * @typedef {import('../src/adapters/bidderFactory.js').UserSync} UserSync\n */\n\nconst BIDDER_CODE = 'impactify';\nconst BIDDER_ALIAS = ['imp'];\nconst DEFAULT_CURRENCY = 'USD';\nconst ORIGIN = 'https://sonic.impactify.media';\nconst LOGGER_URI = 'https://logger.impactify.media';\nconst AUCTION_URI = '/bidder';\nconst COOKIE_SYNC_URI = '/static/cookie_sync.html';\nconst GVL_ID = 606;\n\nexport const STORAGE = getStorageManager({ gvlid: GVL_ID, bidderCode: BIDDER_CODE });\nexport const STORAGE_KEY = '_im_str';\n\n/**\n * Helpers object\n * @type {Object}\n */\nconst helpers = {\n  getExtParamsFromBid(bid) {\n    const ext = {\n      impactify: {\n        appId: bid.params.appId\n      }\n    };\n\n    if (typeof bid.params.format === 'string') {\n      ext.impactify.format = bid.params.format;\n    }\n\n    if (typeof bid.params.style === 'string') {\n      ext.impactify.style = bid.params.style;\n    }\n\n    if (typeof bid.params.container === 'string') {\n      ext.impactify.container = bid.params.container;\n    }\n\n    if (typeof bid.params.size === 'string') {\n      ext.impactify.size = bid.params.size;\n    }\n\n    return ext;\n  },\n\n  getImStrFromLocalStorage() {\n    return STORAGE.localStorageIsEnabled(false)\n      ? STORAGE.getDataFromLocalStorage(STORAGE_KEY, false)\n      : '';\n  }\n};\n\nconst converter = ortbConverter({\n  context: {\n    netRevenue: true,\n    ttl: 300\n  },\n\n  imp(buildImp, bidRequest, context) {\n    const imp = buildImp(bidRequest, context);\n    const bidderExt = helpers.getExtParamsFromBid(bidRequest);\n    if (bidderExt) {\n      const currentExt = imp.ext || {};\n      deepSetValue(imp, 'ext', Object.assign({}, currentExt, bidderExt));\n    }\n    const paramFloor = bidRequest.params && bidRequest.params.bidfloor;\n    if (paramFloor != null && !isNaN(paramFloor) && !('bidfloor' in imp)) {\n      imp.bidfloor = parseFloat(paramFloor);\n      if (!imp.bidfloorcur) {\n        imp.bidfloorcur = DEFAULT_CURRENCY;\n      }\n    }\n    return imp;\n  },\n\n  request(buildRequest, imps, bidderRequest, context) {\n    const request = buildRequest(imps, bidderRequest, context);\n\n    if (!request.cur || !request.cur.length) {\n      request.cur = [DEFAULT_CURRENCY];\n    }\n\n    const tid = bidderRequest && bidderRequest.ortb2 && bidderRequest.ortb2.source && bidderRequest.ortb2.source.tid;\n    if (tid) {\n      deepSetValue(request, 'source.tid', tid);\n    }\n\n    try {\n      const queryString = window.location.search || '';\n      const urlParams = new URLSearchParams(queryString);\n      const checkPrebid = urlParams.get('_checkPrebid');\n      if (checkPrebid != null) {\n        request.test = Number(checkPrebid);\n      }\n    } catch (e) {}\n    return request;\n  },\n\n  bidResponse(buildBidResponse, bid, context) {\n    const bidResponse = buildBidResponse(bid, context);\n\n    if (bid.hash) {\n      bidResponse.hash = bid.hash;\n    }\n    if (bid.expiry) {\n      bidResponse.expiry = bid.expiry;\n    }\n\n    return bidResponse;\n  }\n});\n\n/**\n * Export BidderSpec type object and register it to Prebid\n * @type {{supportedMediaTypes: string[], interpretResponse: ((function(ServerResponse, *): Bid[])|*), code: string, aliases: string[], getUserSyncs: ((function(SyncOptions, ServerResponse[], *, *): UserSync[])|*), buildRequests: (function(*, *): {method: string, data: Object, url: string, options?: Object}), onTimeout: (function(*): boolean), gvlid: number, isBidRequestValid: ((function(BidRequest): (boolean))|*), onBidWon: (function(*): boolean), storageAllowed: boolean}}\n */\nexport const spec = {\n  code: BIDDER_CODE,\n  gvlid: GVL_ID,\n  supportedMediaTypes: ['video', 'banner'],\n  aliases: BIDDER_ALIAS,\n  storageAllowed: true,\n\n  /**\n   * Determines whether or not the given bid request is valid.\n   *\n   * @param {BidRequest} bid The bid params to validate.\n   * @return boolean True if this is a valid bid, and false otherwise.\n   */\n  isBidRequestValid: function (bid) {\n    if (typeof bid.params.appId !== 'string' || !bid.params.appId) {\n      return false;\n    }\n    if (typeof bid.params.format !== 'string' || typeof bid.params.style !== 'string' || !bid.params.format || !bid.params.style) {\n      return false;\n    }\n    if (bid.params.format !== 'screen' && bid.params.format !== 'display') {\n      return false;\n    }\n    if (bid.params.style !== 'inline' && bid.params.style !== 'impact' && bid.params.style !== 'static') {\n      return false;\n    }\n\n    return true;\n  },\n\n  /**\n   * Make a server request from the list of BidRequests.\n   *\n   * @param {Array} validBidRequests - an array of bids\n   * @param {Object} bidderRequest - the bidding request\n   * @return {Object} Info describing the request to the server.\n   */\n  buildRequests: function (validBidRequests, bidderRequest) {\n    // Use ORTB converter to build a canonical OpenRTB request\n    const ortbRequest = converter.toORTB({\n      bidRequests: validBidRequests,\n      bidderRequest,\n      context: {\n        currency: DEFAULT_CURRENCY\n      }\n    });\n\n    const imStr = helpers.getImStrFromLocalStorage();\n    const options = {};\n\n    if (imStr) {\n      options.customHeaders = {\n        'x-impact': imStr\n      };\n    }\n\n    return {\n      method: 'POST',\n      url: ORIGIN + AUCTION_URI,\n      data: ortbRequest,\n      options\n    };\n  },\n\n  /**\n   * Unpack the response from the server into a list of bids.\n   *\n   * @param {ServerResponse} serverResponse A successful response from the server.\n   * @param {Object} bidRequest The object returned by buildRequests.\n   * @return {Bid[]} An array of bids which were nested inside the server response.\n   */\n  interpretResponse: function (serverResponse, bidRequest) {\n    const serverBody = serverResponse && serverResponse.body;\n    if (!serverBody) {\n      return [];\n    }\n\n    // Use ORTB converter to translate ORTB response into Prebid bidResponses\n    const result = converter.fromORTB({\n      response: serverBody,\n      request: bidRequest.data\n    });\n\n    const bids = result && result.bids ? result.bids : [];\n\n    // Fallback: ensure currency is set when possible\n    if (serverBody.cur) {\n      bids.forEach((b) => {\n        if (!b.currency) {\n          b.currency = serverBody.cur;\n        }\n      });\n    }\n\n    return bids;\n  },\n\n  /**\n   * Register the user sync pixels which should be dropped after the auction.\n   *\n   * @param {SyncOptions} syncOptions Which user syncs are allowed?\n   * @param {ServerResponse[]} serverResponses List of server's responses.\n   * @return {UserSync[]} The user syncs which should be dropped.\n   */\n  getUserSyncs: function (\n    syncOptions,\n    serverResponses,\n    gdprConsent,\n    uspConsent\n  ) {\n    if (!serverResponses || serverResponses.length === 0) {\n      return [];\n    }\n\n    if (!syncOptions.iframeEnabled) {\n      return [];\n    }\n\n    let params = '';\n    if (gdprConsent && typeof gdprConsent.consentString === 'string') {\n      if (typeof gdprConsent.gdprApplies === 'boolean') {\n        params += `?gdpr=${Number(gdprConsent.gdprApplies)}&gdpr_consent=${gdprConsent.consentString}`;\n      } else {\n        params += `?gdpr_consent=${gdprConsent.consentString}`;\n      }\n    }\n\n    if (uspConsent) {\n      params += `${params ? '&' : '?'}us_privacy=${encodeURIComponent(uspConsent)}`;\n    }\n\n    if (document.location.search.match(/pbs_debug=true/)) params += `&pbs_debug=true`;\n\n    return [{\n      type: 'iframe',\n      url: ORIGIN + COOKIE_SYNC_URI + params\n    }];\n  },\n\n  /**\n   * Register bidder specific code, which will execute if a bid from this bidder won the auction\n   * @param {Object} bid The bid that won the auction\n   */\n  onBidWon: function (bid) {\n    ajax(`${LOGGER_URI}/prebid/won`, null, JSON.stringify(bid), {\n      method: 'POST',\n      contentType: 'application/json'\n    });\n\n    return true;\n  },\n\n  /**\n   * Register bidder specific code, which will execute if bidder timed out after an auction\n   * @param {Object} data Containing timeout specific data\n   */\n  onTimeout: function (data) {\n    ajax(`${LOGGER_URI}/prebid/timeout`, null, JSON.stringify(data[0]), {\n      method: 'POST',\n      contentType: 'application/json'\n    });\n\n    return true;\n  }\n};\n\nregisterBidder(spec);"],"names":["registerModule","__r0","ortbConverter","deepSetValue","registerBidder","ajax","getStorageManager","BIDDER_CODE","BIDDER_ALIAS","DEFAULT_CURRENCY","ORIGIN","LOGGER_URI","AUCTION_URI","COOKIE_SYNC_URI","GVL_ID","STORAGE","gvlid","bidderCode","STORAGE_KEY","helpers","getExtParamsFromBid","bid","ext","impactify","appId","params","format","style","container","size","getImStrFromLocalStorage","localStorageIsEnabled","getDataFromLocalStorage","converter","context","netRevenue","ttl","imp","buildImp","bidRequest","bidderExt","currentExt","Object","assign","paramFloor","bidfloor","isNaN","parseFloat","bidfloorcur","request","buildRequest","imps","bidderRequest","cur","length","tid","ortb2","source","queryString","window","location","search","urlParams","URLSearchParams","checkPrebid","get","test","Number","e","bidResponse","buildBidResponse","hash","expiry","spec","code","supportedMediaTypes","aliases","storageAllowed","isBidRequestValid","buildRequests","validBidRequests","ortbRequest","toORTB","bidRequests","currency","imStr","options","customHeaders","method","url","data","interpretResponse","serverResponse","serverBody","body","result","fromORTB","response","bids","forEach","b","getUserSyncs","syncOptions","serverResponses","gdprConsent","uspConsent","iframeEnabled","consentString","gdprApplies","concat","encodeURIComponent","document","match","type","onBidWon","JSON","stringify","contentType","onTimeout"],"sourceRoot":""}