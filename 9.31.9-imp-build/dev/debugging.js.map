{"version":3,"file":"debugging.js","mappings":"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","sources":["webpack://prebid.js/./modules/debugging/bidInterceptor.js","webpack://prebid.js/./modules/debugging/debugging.js","webpack://prebid.js/./modules/debugging/index.js","webpack://prebid.js/./modules/debugging/legacy.js","webpack://prebid.js/./modules/debugging/pbsInterceptor.js","webpack://prebid.js/./modules/debugging/responses.js"],"sourcesContent":["import {BANNER, VIDEO} from '../../src/mediaTypes.js';\nimport {deepAccess, deepClone, delayExecution, hasNonSerializableProperty, mergeDeep} from '../../src/utils.js';\nimport responseResolvers from './responses.js';\n\n/**\n * @typedef {Number|String|boolean|null|undefined} Scalar\n */\n\nexport function BidInterceptor(opts = {}) {\n  ({setTimeout: this.setTimeout = window.setTimeout.bind(window)} = opts);\n  this.logger = opts.logger;\n  this.rules = [];\n}\n\nObject.assign(BidInterceptor.prototype, {\n  DEFAULT_RULE_OPTIONS: {\n    delay: 0\n  },\n  serializeConfig(ruleDefs) {\n    const isSerializable = (ruleDef, i) => {\n      const serializable = !hasNonSerializableProperty(ruleDef);\n      if (!serializable && !deepAccess(ruleDef, 'options.suppressWarnings')) {\n        this.logger.logWarn(`Bid interceptor rule definition #${i + 1} contains non-serializable properties and will be lost after a refresh. Rule definition: `, ruleDef);\n      }\n      return serializable;\n    }\n    return ruleDefs.filter(isSerializable);\n  },\n  updateConfig(config) {\n    this.rules = (config.intercept || []).map((ruleDef, i) => this.rule(ruleDef, i + 1))\n  },\n  /**\n   * @typedef {Object} RuleOptions\n   * @property {Number} [delay=0] delay between bid interception and mocking of response (to simulate network delay)\n   * @property {boolean} [suppressWarnings=false] if enabled, do not warn about unserializable rules\n   *\n   * @typedef {Object} Rule\n   * @property {Number} no rule number (used only as an identifier for logging)\n   * @property {function({}, {}): boolean} match a predicate function that tests a bid against this rule\n   * @property {ReplacerFn} replacer generator function for mock bid responses\n   * @property {RuleOptions} options\n   */\n\n  /**\n   * @param {{}} ruleDef\n   * @param {Number} ruleNo\n   * @returns {Rule}\n   */\n  rule(ruleDef, ruleNo) {\n    return {\n      no: ruleNo,\n      match: this.matcher(ruleDef.when, ruleNo),\n      replace: this.replacer(ruleDef.then, ruleNo),\n      options: Object.assign({}, this.DEFAULT_RULE_OPTIONS, ruleDef.options),\n      paapi: this.paapiReplacer(ruleDef.paapi || [], ruleNo)\n    }\n  },\n  /**\n   * @typedef {Function} MatchPredicate\n   * @param {*} candidate a bid to match, or a portion of it if used inside an ObjectMather.\n   * e.g. matcher((bid, bidRequest) => ....) or matcher({property: (property, bidRequest) => ...})\n   * @param {BidRequest} bidRequest the request `candidate` belongs to\n   * @returns {boolean}\n   *\n   * @typedef {{[key]: Scalar|RegExp|MatchPredicate|ObjectMatcher}} ObjectMatcher\n   */\n\n  /**\n   * @param {MatchPredicate|ObjectMatcher} matchDef matcher definition\n   * @param {Number} ruleNo\n   * @returns {MatchPredicate} a predicate function that matches a bid against the given `matchDef`\n   */\n  matcher(matchDef, ruleNo) {\n    if (typeof matchDef === 'function') {\n      return matchDef;\n    }\n    if (typeof matchDef !== 'object') {\n      this.logger.logError(`Invalid 'when' definition for debug bid interceptor (in rule #${ruleNo})`);\n      return () => false;\n    }\n    function matches(candidate, {ref = matchDef, args = []}) {\n      return Object.entries(ref).map(([key, val]) => {\n        const cVal = candidate[key];\n        if (val instanceof RegExp) {\n          return val.exec(cVal) != null;\n        }\n        if (typeof val === 'function') {\n          return !!val(cVal, ...args);\n        }\n        if (typeof val === 'object') {\n          return matches(cVal, {ref: val, args});\n        }\n        return cVal === val;\n      }).every((i) => i);\n    }\n    return (candidate, ...args) => matches(candidate, {args});\n  },\n  /**\n   * @typedef {Function} ReplacerFn\n   * @param {*} bid a bid that was intercepted\n   * @param {BidRequest} bidRequest the request `bid` belongs to\n   * @returns {*} the response to mock for `bid`, or a portion of it if used inside an ObjectReplacer.\n   * e.g. replacer((bid, bidRequest) => mockResponse) or replacer({property: (bid, bidRequest) => mockProperty})\n   *\n   * @typedef {{[key]: ReplacerFn|ObjectReplacer|*}} ObjectReplacer\n   */\n\n  /**\n   * @param {ReplacerFn|ObjectReplacer} replDef replacer definition\n   * @param ruleNo\n   * @return {ReplacerFn}\n   */\n  replacer(replDef, ruleNo) {\n    if (replDef === null) {\n      return () => null\n    }\n    replDef = replDef || {};\n    let replFn;\n    if (typeof replDef === 'function') {\n      replFn = ({args}) => replDef(...args);\n    } else if (typeof replDef !== 'object') {\n      this.logger.logError(`Invalid 'then' definition for debug bid interceptor (in rule #${ruleNo})`);\n      replFn = () => ({});\n    } else {\n      replFn = ({args, ref = replDef}) => {\n        const result = Array.isArray(ref) ? [] : {};\n        Object.entries(ref).forEach(([key, val]) => {\n          if (typeof val === 'function') {\n            result[key] = val(...args);\n          } else if (val != null && typeof val === 'object') {\n            result[key] = replFn({args, ref: val})\n          } else {\n            result[key] = val;\n          }\n        });\n        return result;\n      }\n    }\n    return (bid, ...args) => {\n      const response = this.responseDefaults(bid);\n      mergeDeep(response, replFn({args: [bid, ...args]}));\n      const resolver = responseResolvers[response.mediaType];\n      resolver && resolver(bid, response);\n      response.isDebug = true;\n      return response;\n    }\n  },\n\n  paapiReplacer(paapiDef, ruleNo) {\n    function wrap(configs = []) {\n      return configs.map(config => {\n        return Object.keys(config).some(k => !['config', 'igb'].includes(k))\n          ? {config}\n          : config\n      });\n    }\n    if (Array.isArray(paapiDef)) {\n      return () => wrap(paapiDef);\n    } else if (typeof paapiDef === 'function') {\n      return (...args) => wrap(paapiDef(...args))\n    } else {\n      this.logger.logError(`Invalid 'paapi' definition for debug bid interceptor (in rule #${ruleNo})`);\n    }\n  },\n\n  responseDefaults(bid) {\n    const response = {\n      requestId: bid.bidId,\n      cpm: 3.5764,\n      currency: 'EUR',\n      ttl: 360,\n      creativeId: 'mock-creative-id',\n      netRevenue: false,\n      meta: {}\n    };\n\n    if (!bid.mediaType) {\n      response.mediaType = Object.keys(bid.mediaTypes ?? {})[0] ?? BANNER;\n    }\n    let size;\n    if (response.mediaType === BANNER) {\n      size = bid.mediaTypes?.banner?.sizes?.[0] ?? [300, 250];\n    } else if (response.mediaType === VIDEO) {\n      size = bid.mediaTypes?.video?.playerSize?.[0] ?? [600, 500];\n    }\n    if (Array.isArray(size)) {\n      ([response.width, response.height] = size);\n    }\n    return response;\n  },\n  /**\n   * Match a candidate bid against all registered rules.\n   *\n   * @param {{}} candidate\n   * @param args\n   * @returns {Rule|undefined} the first matching rule, or undefined if no match was found.\n   */\n  match(candidate, ...args) {\n    return this.rules.find((rule) => rule.match(candidate, ...args));\n  },\n  /**\n   * Match a set of bids against all registered rules.\n   *\n   * @param bids\n   * @param bidRequest\n   * @returns {[{bid: *, rule: Rule}[], *[]]} a 2-tuple for matching bids (decorated with the matching rule) and\n   * non-matching bids.\n   */\n  matchAll(bids, bidRequest) {\n    const [matches, remainder] = [[], []];\n    bids.forEach((bid) => {\n      const rule = this.match(bid, bidRequest);\n      if (rule != null) {\n        matches.push({rule: rule, bid: bid});\n      } else {\n        remainder.push(bid);\n      }\n    })\n    return [matches, remainder];\n  },\n  /**\n   * Run a set of bids against all registered rules, filter out those that match,\n   * and generate mock responses for them.\n   *\n   * @param {{}[]} bids?\n   * @param {BidRequest} bidRequest\n   * @param {function(*)} addBid called once for each mock response\n   * @param addPaapiConfig called once for each mock PAAPI config\n   * @param {function()} done called once after all mock responses have been run through `addBid`\n   * @returns {{bids: {}[], bidRequest: {}} remaining bids that did not match any rule (this applies also to\n   * bidRequest.bids)\n   */\n  intercept({bids, bidRequest, addBid, addPaapiConfig, done}) {\n    if (bids == null) {\n      bids = bidRequest.bids;\n    }\n    const [matches, remainder] = this.matchAll(bids, bidRequest);\n    if (matches.length > 0) {\n      const callDone = delayExecution(done, matches.length);\n      matches.forEach((match) => {\n        const mockResponse = match.rule.replace(match.bid, bidRequest);\n        const mockPaapi = match.rule.paapi(match.bid, bidRequest);\n        const delay = match.rule.options.delay;\n        this.logger.logMessage(`Intercepted bid request (matching rule #${match.rule.no}), mocking response in ${delay}ms. Request, response, PAAPI configs:`, match.bid, mockResponse, mockPaapi)\n        this.setTimeout(() => {\n          mockResponse && addBid(mockResponse, match.bid);\n          mockPaapi.forEach(cfg => addPaapiConfig(cfg, match.bid, bidRequest));\n          callDone();\n        }, delay)\n      });\n      bidRequest = deepClone(bidRequest);\n      bids = bidRequest.bids = remainder;\n    } else {\n      this.setTimeout(done, 0);\n    }\n    return {bids, bidRequest};\n  }\n});\n","import {deepClone, delayExecution} from '../../src/utils.js';\nimport {BidInterceptor} from './bidInterceptor.js';\nimport {makePbsInterceptor} from './pbsInterceptor.js';\nimport {addHooks, removeHooks} from './legacy.js';\n\nconst interceptorHooks = [];\nlet bidInterceptor;\nlet enabled = false;\n\nfunction enableDebugging(debugConfig, {fromSession = false, config, hook, logger}) {\n  config.setConfig({debug: true});\n  bidInterceptor.updateConfig(debugConfig);\n  resetHooks(true);\n  // also enable \"legacy\" overrides\n  removeHooks({hook});\n  addHooks(debugConfig, {hook, logger});\n  if (!enabled) {\n    enabled = true;\n    logger.logMessage(`Debug overrides enabled${fromSession ? ' from session' : ''}`);\n  }\n}\n\nexport function disableDebugging({hook, logger}) {\n  bidInterceptor.updateConfig(({}));\n  resetHooks(false);\n  // also disable \"legacy\" overrides\n  removeHooks({hook});\n  if (enabled) {\n    enabled = false;\n    logger.logMessage('Debug overrides disabled');\n  }\n}\n\n// eslint-disable-next-line no-restricted-properties\nfunction saveDebuggingConfig(debugConfig, {sessionStorage = window.sessionStorage, DEBUG_KEY} = {}) {\n  if (!debugConfig.enabled) {\n    try {\n      sessionStorage.removeItem(DEBUG_KEY);\n    } catch (e) {\n    }\n  } else {\n    if (debugConfig.intercept) {\n      debugConfig = deepClone(debugConfig);\n      debugConfig.intercept = bidInterceptor.serializeConfig(debugConfig.intercept);\n    }\n    try {\n      sessionStorage.setItem(DEBUG_KEY, JSON.stringify(debugConfig));\n    } catch (e) {\n    }\n  }\n}\n\n// eslint-disable-next-line no-restricted-properties\nexport function getConfig(debugging, {getStorage = () => window.sessionStorage, DEBUG_KEY, config, hook, logger} = {}) {\n  if (debugging == null) return;\n  let sessionStorage;\n  try {\n    sessionStorage = getStorage();\n  } catch (e) {\n    logger.logError(`sessionStorage is not available: debugging configuration will not persist on page reload`, e);\n  }\n  if (sessionStorage != null) {\n    saveDebuggingConfig(debugging, {sessionStorage, DEBUG_KEY});\n  }\n  if (!debugging.enabled) {\n    disableDebugging({hook, logger});\n  } else {\n    enableDebugging(debugging, {config, hook, logger});\n  }\n}\n\nexport function sessionLoader({DEBUG_KEY, storage, config, hook, logger}) {\n  let overrides;\n  try {\n    // eslint-disable-next-line no-restricted-properties\n    storage = storage || window.sessionStorage;\n    overrides = JSON.parse(storage.getItem(DEBUG_KEY));\n  } catch (e) {\n  }\n  if (overrides) {\n    enableDebugging(overrides, {fromSession: true, config, hook, logger});\n  }\n}\n\nfunction resetHooks(enable) {\n  interceptorHooks.forEach(([getHookFn, interceptor]) => {\n    getHookFn().getHooks({hook: interceptor}).remove();\n  });\n  if (enable) {\n    interceptorHooks.forEach(([getHookFn, interceptor]) => {\n      getHookFn().before(interceptor);\n    });\n  }\n}\n\nfunction registerBidInterceptor(getHookFn, interceptor) {\n  const interceptBids = (...args) => bidInterceptor.intercept(...args);\n  interceptorHooks.push([getHookFn, function (next, ...args) {\n    interceptor(next, interceptBids, ...args);\n  }]);\n}\n\nexport function bidderBidInterceptor(next, interceptBids, spec, bids, bidRequest, ajax, wrapCallback, cbs) {\n  const done = delayExecution(cbs.onCompletion, 2);\n  ({bids, bidRequest} = interceptBids({\n    bids,\n    bidRequest,\n    addBid: wrapCallback(cbs.onBid),\n    addPaapiConfig: wrapCallback((config, bidRequest) => cbs.onPaapi({bidId: bidRequest.bidId, ...config})),\n    done\n  }));\n  if (bids.length === 0) {\n    cbs.onResponse?.({}); // trigger onResponse so that the bidder may be marked as \"timely\" if necessary\n    done();\n  } else {\n    next(spec, bids, bidRequest, ajax, wrapCallback, {...cbs, onCompletion: done});\n  }\n}\n\nexport function install({DEBUG_KEY, config, hook, createBid, logger}) {\n  bidInterceptor = new BidInterceptor({logger});\n  const pbsBidInterceptor = makePbsInterceptor({createBid});\n  registerBidInterceptor(() => hook.get('processBidderRequests'), bidderBidInterceptor);\n  registerBidInterceptor(() => hook.get('processPBSRequest'), pbsBidInterceptor);\n  sessionLoader({DEBUG_KEY, config, hook, logger});\n  config.getConfig('debugging', ({debugging}) => getConfig(debugging, {DEBUG_KEY, config, hook, logger}), {init: true});\n}\n","import {config} from '../../src/config.js';\nimport {hook} from '../../src/hook.js';\nimport {install} from './debugging.js';\nimport {prefixLog} from '../../src/utils.js';\nimport {createBid} from '../../src/bidfactory.js';\nimport {DEBUG_KEY} from '../../src/debugging.js';\n\ninstall({DEBUG_KEY, config, hook, createBid, logger: prefixLog('DEBUG:')});\n","export let addBidResponseBound;\nexport let addBidderRequestsBound;\n\nexport function addHooks(overrides, {hook, logger}) {\n  addBidResponseBound = addBidResponseHook.bind({overrides, logger});\n  hook.get('addBidResponse').before(addBidResponseBound, 5);\n\n  addBidderRequestsBound = addBidderRequestsHook.bind({overrides, logger});\n  hook.get('addBidderRequests').before(addBidderRequestsBound, 5);\n}\n\nexport function removeHooks({hook}) {\n  hook.get('addBidResponse').getHooks({hook: addBidResponseBound}).remove();\n  hook.get('addBidderRequests').getHooks({hook: addBidderRequestsBound}).remove();\n}\n\n/**\n * @param {{bidder:string, adUnitCode:string}} overrideObj\n * @param {string} bidderCode\n * @param {string} adUnitCode\n * @returns {boolean}\n */\nexport function bidExcluded(overrideObj, bidderCode, adUnitCode) {\n  if (overrideObj.bidder && overrideObj.bidder !== bidderCode) {\n    return true;\n  }\n  if (overrideObj.adUnitCode && overrideObj.adUnitCode !== adUnitCode) {\n    return true;\n  }\n  return false;\n}\n\n/**\n * @param {string[]} bidders\n * @param {string} bidderCode\n * @returns {boolean}\n */\nexport function bidderExcluded(bidders, bidderCode) {\n  return (Array.isArray(bidders) && bidders.indexOf(bidderCode) === -1);\n}\n\n/**\n * @param {Object} overrideObj\n * @param {Object} bidObj\n * @param {Object} bidType\n * @returns {Object} bidObj with overridden properties\n */\nexport function applyBidOverrides(overrideObj, bidObj, bidType, logger) {\n  return Object.keys(overrideObj).filter(key => (['adUnitCode', 'bidder'].indexOf(key) === -1)).reduce(function(result, key) {\n    logger.logMessage(`bidder overrides changed '${result.adUnitCode}/${result.bidderCode}' ${bidType}.${key} from '${result[key]}.js' to '${overrideObj[key]}'`);\n    result[key] = overrideObj[key];\n    result.isDebug = true;\n    return result;\n  }, bidObj);\n}\n\nexport function addBidResponseHook(next, adUnitCode, bid, reject) {\n  const {overrides, logger} = this;\n\n  if (bidderExcluded(overrides.bidders, bid.bidderCode)) {\n    logger.logWarn(`bidder '${bid.bidderCode}' excluded from auction by bidder overrides`);\n    return;\n  }\n\n  if (Array.isArray(overrides.bids)) {\n    overrides.bids.forEach(function(overrideBid) {\n      if (!bidExcluded(overrideBid, bid.bidderCode, adUnitCode)) {\n        applyBidOverrides(overrideBid, bid, 'bidder', logger);\n      }\n    });\n  }\n\n  next(adUnitCode, bid, reject);\n}\n\nexport function addBidderRequestsHook(next, bidderRequests) {\n  const {overrides, logger} = this;\n\n  const includedBidderRequests = bidderRequests.filter(function (bidderRequest) {\n    if (bidderExcluded(overrides.bidders, bidderRequest.bidderCode)) {\n      logger.logWarn(`bidRequest '${bidderRequest.bidderCode}' excluded from auction by bidder overrides`);\n      return false;\n    }\n    return true;\n  });\n\n  if (Array.isArray(overrides.bidRequests)) {\n    includedBidderRequests.forEach(function(bidderRequest) {\n      overrides.bidRequests.forEach(function(overrideBid) {\n        bidderRequest.bids.forEach(function(bid) {\n          if (!bidExcluded(overrideBid, bidderRequest.bidderCode, bid.adUnitCode)) {\n            applyBidOverrides(overrideBid, bid, 'bidRequest', logger);\n          }\n        });\n      });\n    });\n  }\n\n  next(includedBidderRequests);\n}\n","import {deepClone, delayExecution} from '../../src/utils.js';\nimport { STATUS } from '../../src/constants.js';\n\nexport function makePbsInterceptor({createBid}) {\n  return function pbsBidInterceptor(next, interceptBids, s2sBidRequest, bidRequests, ajax, {\n    onResponse,\n    onError,\n    onBid,\n    onFledge,\n  }) {\n    let responseArgs;\n    const done = delayExecution(() => onResponse(...responseArgs), bidRequests.length + 1)\n    function signalResponse(...args) {\n      responseArgs = args;\n      done();\n    }\n    function addBid(bid, bidRequest) {\n      onBid({\n        adUnit: bidRequest.adUnitCode,\n        bid: Object.assign(createBid(STATUS.GOOD, bidRequest), {requestBidder: bidRequest.bidder}, bid)\n      })\n    }\n    bidRequests = bidRequests\n      .map((req) => interceptBids({\n        bidRequest: req,\n        addBid,\n        addPaapiConfig(config, bidRequest, bidderRequest) {\n          onFledge({\n            adUnitCode: bidRequest.adUnitCode,\n            ortb2: bidderRequest.ortb2,\n            ortb2Imp: bidRequest.ortb2Imp,\n            ...config\n          })\n        },\n        done\n      }).bidRequest)\n      .filter((req) => req.bids.length > 0)\n\n    if (bidRequests.length > 0) {\n      const bidIds = new Set();\n      bidRequests.forEach((req) => req.bids.forEach((bid) => bidIds.add(bid.bidId)));\n      s2sBidRequest = deepClone(s2sBidRequest);\n      s2sBidRequest.ad_units.forEach((unit) => {\n        unit.bids = unit.bids.filter((bid) => bidIds.has(bid.bid_id));\n      })\n      s2sBidRequest.ad_units = s2sBidRequest.ad_units.filter((unit) => unit.bids.length > 0);\n      next(s2sBidRequest, bidRequests, ajax, {onResponse: signalResponse, onError, onBid});\n    } else {\n      signalResponse(true, []);\n    }\n  }\n}\n","import {BANNER, NATIVE, VIDEO} from '../../src/mediaTypes.js';\nimport {Renderer} from '../../src/Renderer.js';\nimport {getGptSlotInfoForAdUnitCode} from '../../libraries/gptUtils/gptUtils.js';\n\nconst ORTB_NATIVE_ASSET_TYPES = ['img', 'video', 'link', 'data', 'title'];\n\nexport default {\n  [BANNER]: (bid, bidResponse) => {\n    if (!bidResponse.hasOwnProperty('ad') && !bidResponse.hasOwnProperty('adUrl')) {\n      let [size, repeat] = (bidResponse.width ?? bidResponse.wratio) < (bidResponse.height ?? bidResponse.hratio) ? [bidResponse.width, 'repeat-y'] : [bidResponse.height, 'repeat-x'];\n      size = size == null ? '100%' : `${size}px`;\n      bidResponse.ad = `<html><body><div style=\"display: inline-block; height: ${bidResponse.height == null ? '100%' : bidResponse.height + 'px'}; width: ${bidResponse.width == null ? '100%' : bidResponse.width + 'px'}; background-image: url(https://vcdn.adnxs.com/p/creative-image/27/c0/52/67/27c05267-5a6d-4874-834e-18e218493c32.png); background-size: ${size}; background-repeat: ${repeat}\"></div></body></html>`;\n    }\n  },\n  [VIDEO]: (bid, bidResponse) => {\n    if (!bidResponse.hasOwnProperty('vastXml') && !bidResponse.hasOwnProperty('vastUrl')) {\n      bidResponse.vastXml = '<?xml version=\"1.0\" encoding=\"UTF-8\"?><VAST version=\"3.0\"><Ad><InLine><AdSystem>GDFP</AdSystem><AdTitle>Demo</AdTitle><Description><![CDATA[Demo]]></Description><Creatives><Creative><Linear ><Duration>00:00:11</Duration><VideoClicks><ClickThrough><![CDATA[https://prebid.org/]]></ClickThrough></VideoClicks><MediaFiles><MediaFile delivery=\"progressive\" width=\"640\" height=\"360\" type=\"video/mp4\" scalable=\"true\" maintainAspectRatio=\"true\"><![CDATA[https://s3.amazonaws.com/files.prebid.org/creatives/PrebidLogo.mp4]]></MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>';\n      bidResponse.renderer = Renderer.install({\n        url: 'https://cdn.jwplayer.com/libraries/l5MchIxB.js',\n      });\n      bidResponse.renderer.setRender(function (bid, doc) {\n        const parentId = getGptSlotInfoForAdUnitCode(bid.adUnitCode).divId ?? bid.adUnitCode;\n        const div = doc.createElement('div');\n        div.id = `${parentId}-video-player`;\n        doc.getElementById(parentId).appendChild(div);\n        const player = window.jwplayer(div.id).setup({\n          debug: true,\n          width: bidResponse.width,\n          height: bidResponse.height,\n          advertising: {\n            client: 'vast',\n            outstream: true,\n            endstate: 'close'\n          },\n        });\n        player.on('ready', async function () {\n          if (bid.vastUrl) {\n            player.loadAdTag(bid.vastUrl);\n          } else {\n            player.loadAdXml(bid.vastXml);\n          }\n        });\n      })\n    }\n  },\n  [NATIVE]: (bid, bidResponse) => {\n    if (!bidResponse.hasOwnProperty('native')) {\n      bidResponse.native = {\n        ortb: {\n          link: {\n            url: 'https://www.link.example',\n            clicktrackers: ['https://impression.example']\n          },\n          assets: bid.nativeOrtbRequest.assets.map(mapDefaultNativeOrtbAsset)\n        }\n      }\n    }\n  }\n}\n\nfunction mapDefaultNativeOrtbAsset(asset) {\n  const assetType = ORTB_NATIVE_ASSET_TYPES.find(type => asset.hasOwnProperty(type));\n  switch (assetType) {\n    case 'img':\n      return {\n        ...asset,\n        img: {\n          type: 3,\n          w: 600,\n          h: 500,\n          url: 'https://vcdn.adnxs.com/p/creative-image/27/c0/52/67/27c05267-5a6d-4874-834e-18e218493c32.png',\n        }\n      }\n    case 'video':\n      return {\n        ...asset,\n        video: {\n          vasttag: '<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><VAST version=\\\"3.0\\\"><Ad><InLine><AdSystem>GDFP</AdSystem><AdTitle>Demo</AdTitle><Description><![CDATA[Demo]]></Description><Creatives><Creative><Linear ><Duration>00:00:11</Duration><VideoClicks><ClickThrough><![CDATA[https://prebid.org/]]></ClickThrough></VideoClicks><MediaFiles><MediaFile delivery=\\\"progressive\\\" width=\\\"640\\\" height=\\\"360\\\" type=\\\"video/mp4\\\" scalable=\\\"true\\\" maintainAspectRatio=\\\"true\\\"><![CDATA[https://s3.amazonaws.com/files.prebid.org/creatives/PrebidLogo.mp4]]></MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>'\n        }\n      }\n    case 'data': {\n      return {\n        ...asset,\n        data: {\n          value: '5 stars'\n        }\n      }\n    }\n    case 'title': {\n      return {\n        ...asset,\n        title: {\n          text: 'Prebid Native Example'\n        }\n      }\n    }\n  }\n}\n"],"names":["BANNER","VIDEO","deepAccess","deepClone","delayExecution","hasNonSerializableProperty","mergeDeep","responseResolvers","BidInterceptor","opts","arguments","length","undefined","setTimeout","window","bind","logger","rules","Object","assign","prototype","DEFAULT_RULE_OPTIONS","delay","serializeConfig","ruleDefs","isSerializable","ruleDef","i","serializable","logWarn","filter","updateConfig","config","intercept","map","rule","ruleNo","no","match","matcher","when","replace","replacer","then","options","paapi","paapiReplacer","matchDef","logError","matches","candidate","_ref","ref","args","entries","_ref2","key","val","cVal","RegExp","exec","every","_len","Array","_key","replDef","_this","replFn","_ref3","_ref4","result","isArray","forEach","_ref5","bid","response","responseDefaults","_len2","_key2","resolver","mediaType","isDebug","paapiDef","wrap","configs","keys","some","k","includes","requestId","bidId","cpm","currency","ttl","creativeId","netRevenue","meta","mediaTypes","size","banner","sizes","video","playerSize","width","height","_len3","_key3","find","matchAll","bids","bidRequest","remainder","push","_ref6","addBid","addPaapiConfig","done","callDone","mockResponse","mockPaapi","logMessage","cfg","makePbsInterceptor","addHooks","removeHooks","interceptorHooks","bidInterceptor","enabled","enableDebugging","debugConfig","fromSession","hook","setConfig","debug","resetHooks","disableDebugging","saveDebuggingConfig","sessionStorage","DEBUG_KEY","removeItem","e","setItem","JSON","stringify","getConfig","debugging","getStorage","sessionLoader","storage","overrides","parse","getItem","enable","getHookFn","interceptor","getHooks","remove","before","registerBidInterceptor","interceptBids","next","bidderBidInterceptor","spec","ajax","wrapCallback","cbs","onCompletion","onBid","onPaapi","onResponse","install","createBid","pbsBidInterceptor","get","_ref7","init","registerModule","__r0","prefixLog","addBidResponseBound","addBidderRequestsBound","addBidResponseHook","addBidderRequestsHook","bidExcluded","overrideObj","bidderCode","adUnitCode","bidder","bidderExcluded","bidders","indexOf","applyBidOverrides","bidObj","bidType","reduce","reject","overrideBid","bidderRequests","includedBidderRequests","bidderRequest","bidRequests","STATUS","s2sBidRequest","onError","onFledge","responseArgs","signalResponse","adUnit","GOOD","requestBidder","req","ortb2","ortb2Imp","bidIds","Set","add","ad_units","unit","has","bid_id","NATIVE","Renderer","getGptSlotInfoForAdUnitCode","ORTB_NATIVE_ASSET_TYPES","bidResponse","hasOwnProperty","repeat","wratio","hratio","ad","vastXml","renderer","url","setRender","doc","parentId","divId","div","createElement","id","getElementById","appendChild","player","jwplayer","setup","advertising","client","outstream","endstate","on","vastUrl","loadAdTag","loadAdXml","native","ortb","link","clicktrackers","assets","nativeOrtbRequest","mapDefaultNativeOrtbAsset","asset","assetType","type","img","w","h","vasttag","data","value","title","text"],"sourceRoot":""}